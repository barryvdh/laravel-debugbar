(()=>{var Mn=Object.defineProperty;var Pt=Object.getOwnPropertySymbols;var Dn=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable;var Bt=Math.pow,Ut=(n,W,T)=>W in n?Mn(n,W,{enumerable:!0,configurable:!0,writable:!0,value:T}):n[W]=T,ht=(n,W)=>{for(var T in W||(W={}))Dn.call(W,T)&&Ut(n,T,W[T]);if(Pt)for(var T of Pt(W))Pn.call(W,T)&&Ut(n,T,W[T]);return n};(()=>{var n=Object.create,W=Object.defineProperty,T=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,l=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,a=(f,U)=>()=>(U||f((U={exports:{}}).exports,U),U.exports),S=(f,U,Q,Z)=>{if(U&&typeof U=="object"||typeof U=="function")for(let ne of m(U))!I.call(f,ne)&&ne!==Q&&W(f,ne,{get:()=>U[ne],enumerable:!(Z=T(U,ne))||Z.enumerable});return f},j=(f,U,Q)=>(Q=f!=null?n(l(f)):{},S(U||!f||!f.__esModule?W(Q,"default",{value:f,enumerable:!0}):Q,f)),Y=a((f,U)=>{function Q(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(L=>{let G=t[L],J=typeof G;(J==="object"||J==="function")&&!Object.isFrozen(G)&&Q(G)}),t}var Z=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function ne(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function se(t,...L){let G=Object.create(null);for(let J in t)G[J]=t[J];return L.forEach(function(J){for(let ce in J)G[ce]=J[ce]}),G}var le="</span>",oe=t=>!!t.scope,Re=(t,{prefix:L})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){let G=t.split(".");return[`${L}${G.shift()}`,...G.map((J,ce)=>`${J}${"_".repeat(ce+1)}`)].join(" ")}return`${L}${t}`},Ee=class{constructor(t,L){this.buffer="",this.classPrefix=L.classPrefix,t.walk(this)}addText(t){this.buffer+=ne(t)}openNode(t){if(!oe(t))return;let L=Re(t.scope,{prefix:this.classPrefix});this.span(L)}closeNode(t){oe(t)&&(this.buffer+=le)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}},Ie=(t={})=>{let L={children:[]};return Object.assign(L,t),L},De=class Ht{constructor(){this.rootNode=Ie(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(L){this.top.children.push(L)}openNode(L){let G=Ie({scope:L});this.add(G),this.stack.push(G)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(L){return this.constructor._walk(L,this.rootNode)}static _walk(L,G){return typeof G=="string"?L.addText(G):G.children&&(L.openNode(G),G.children.forEach(J=>this._walk(L,J)),L.closeNode(G)),L}static _collapse(L){typeof L!="string"&&L.children&&(L.children.every(G=>typeof G=="string")?L.children=[L.children.join("")]:L.children.forEach(G=>{Ht._collapse(G)}))}},Ne=class extends De{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,L){let G=t.root;L&&(G.scope=`language:${L}`),this.add(G)}toHTML(){return new Ee(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function ge(t){return t?typeof t=="string"?t:t.source:null}function Ce(t){return be("(?=",t,")")}function we(t){return be("(?:",t,")*")}function Pe(t){return be("(?:",t,")?")}function be(...t){return t.map(L=>ge(L)).join("")}function Me(t){let L=t[t.length-1];return typeof L=="object"&&L.constructor===Object?(t.splice(t.length-1,1),L):{}}function ve(...t){return"("+(Me(t).capture?"":"?:")+t.map(L=>ge(L)).join("|")+")"}function xe(t){return new RegExp(t.toString()+"|").exec("").length-1}function he(t,L){let G=t&&t.exec(L);return G&&G.index===0}var ke=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Se(t,{joinWith:L}){let G=0;return t.map(J=>{G+=1;let ce=G,de=ge(J),$="";for(;de.length>0;){let F=ke.exec(de);if(!F){$+=de;break}$+=de.substring(0,F.index),de=de.substring(F.index+F[0].length),F[0][0]==="\\"&&F[1]?$+="\\"+String(Number(F[1])+ce):($+=F[0],F[0]==="("&&G++)}return $}).map(J=>`(${J})`).join(L)}var Fe=/\b\B/,_e="[a-zA-Z]\\w*",je="[a-zA-Z_]\\w*",Xe="\\b\\d+(\\.\\d+)?",Ke="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Oe="\\b(0b[01]+)",Le="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ue=(t={})=>{let L=/^#![ ]*\//;return t.binary&&(t.begin=be(L,/.*\b/,t.binary,/\b.*/)),se({scope:"meta",begin:L,end:/$/,relevance:0,"on:begin":(G,J)=>{G.index!==0&&J.ignoreMatch()}},t)},Qe={begin:"\\\\[\\s\\S]",relevance:0},Ae={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Qe]},$e={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Qe]},Ze={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ve=function(t,L,G={}){let J=se({scope:"comment",begin:t,end:L,contains:[]},G);J.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let ce=ve("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return J.contains.push({begin:be(/[ ]+/,"(",ce,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),J},nt=Ve("//","$"),it=Ve("/\\*","\\*/"),Wt=Ve("#","$"),Gt={scope:"number",begin:Xe,relevance:0},Ft={scope:"number",begin:Ke,relevance:0},jt={scope:"number",begin:Oe,relevance:0},$t={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Qe,{begin:/\[/,end:/\]/,relevance:0,contains:[Qe]}]},Vt={scope:"title",begin:_e,relevance:0},zt={scope:"title",begin:je,relevance:0},Yt={begin:"\\.\\s*"+je,relevance:0},Xt=function(t){return Object.assign(t,{"on:begin":(L,G)=>{G.data._beginMatch=L[1]},"on:end":(L,G)=>{G.data._beginMatch!==L[1]&&G.ignoreMatch()}})},at=Object.freeze({__proto__:null,APOS_STRING_MODE:Ae,BACKSLASH_ESCAPE:Qe,BINARY_NUMBER_MODE:jt,BINARY_NUMBER_RE:Oe,COMMENT:Ve,C_BLOCK_COMMENT_MODE:it,C_LINE_COMMENT_MODE:nt,C_NUMBER_MODE:Ft,C_NUMBER_RE:Ke,END_SAME_AS_BEGIN:Xt,HASH_COMMENT_MODE:Wt,IDENT_RE:_e,MATCH_NOTHING_RE:Fe,METHOD_GUARD:Yt,NUMBER_MODE:Gt,NUMBER_RE:Xe,PHRASAL_WORDS_MODE:Ze,QUOTE_STRING_MODE:$e,REGEXP_MODE:$t,RE_STARTERS_RE:Le,SHEBANG:Ue,TITLE_MODE:Vt,UNDERSCORE_IDENT_RE:je,UNDERSCORE_TITLE_MODE:zt});function Kt(t,L){t.input[t.index-1]==="."&&L.ignoreMatch()}function Qt(t,L){t.className!==void 0&&(t.scope=t.className,delete t.className)}function Zt(t,L){L&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=Kt,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function qt(t,L){Array.isArray(t.illegal)&&(t.illegal=ve(...t.illegal))}function Jt(t,L){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function en(t,L){t.relevance===void 0&&(t.relevance=1)}var tn=(t,L)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");let G=Object.assign({},t);Object.keys(t).forEach(J=>{delete t[J]}),t.keywords=G.keywords,t.begin=be(G.beforeMatch,Ce(G.begin)),t.starts={relevance:0,contains:[Object.assign(G,{endsParent:!0})]},t.relevance=0,delete G.beforeMatch},nn=["of","and","for","in","not","or","if","then","parent","list","value"],sn="keyword";function Rt(t,L,G=sn){let J=Object.create(null);return typeof t=="string"?ce(G,t.split(" ")):Array.isArray(t)?ce(G,t):Object.keys(t).forEach(function(de){Object.assign(J,Rt(t[de],L,de))}),J;function ce(de,$){L&&($=$.map(F=>F.toLowerCase())),$.forEach(function(F){let X=F.split("|");J[X[0]]=[de,an(X[0],X[1])]})}}function an(t,L){return L?Number(L):rn(t)?0:1}function rn(t){return nn.includes(t.toLowerCase())}var Nt={},qe=t=>{console.error(t)},Lt=(t,...L)=>{console.log(`WARN: ${t}`,...L)},et=(t,L)=>{Nt[`${t}/${L}`]||(console.log(`Deprecated as of ${t}. ${L}`),Nt[`${t}/${L}`]=!0)},rt=new Error;function _t(t,L,{key:G}){let J=0,ce=t[G],de={},$={};for(let F=1;F<=L.length;F++)$[F+J]=ce[F],de[F+J]=!0,J+=xe(L[F-1]);t[G]=$,t[G]._emit=de,t[G]._multi=!0}function on(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw qe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),rt;if(typeof t.beginScope!="object"||t.beginScope===null)throw qe("beginScope must be object"),rt;_t(t,t.begin,{key:"beginScope"}),t.begin=Se(t.begin,{joinWith:""})}}function ln(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw qe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),rt;if(typeof t.endScope!="object"||t.endScope===null)throw qe("endScope must be object"),rt;_t(t,t.end,{key:"endScope"}),t.end=Se(t.end,{joinWith:""})}}function cn(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function dn(t){cn(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),on(t),ln(t)}function un(t){function L($,F){return new RegExp(ge($),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(F?"g":""))}class G{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(F,X){X.position=this.position++,this.matchIndexes[this.matchAt]=X,this.regexes.push([X,F]),this.matchAt+=xe(F)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let F=this.regexes.map(X=>X[1]);this.matcherRe=L(Se(F,{joinWith:"|"}),!0),this.lastIndex=0}exec(F){this.matcherRe.lastIndex=this.lastIndex;let X=this.matcherRe.exec(F);if(!X)return null;let me=X.findIndex((st,Et)=>Et>0&&st!==void 0),ue=this.matchIndexes[me];return X.splice(0,me),Object.assign(X,ue)}}class J{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(F){if(this.multiRegexes[F])return this.multiRegexes[F];let X=new G;return this.rules.slice(F).forEach(([me,ue])=>X.addRule(me,ue)),X.compile(),this.multiRegexes[F]=X,X}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(F,X){this.rules.push([F,X]),X.type==="begin"&&this.count++}exec(F){let X=this.getMatcher(this.regexIndex);X.lastIndex=this.lastIndex;let me=X.exec(F);if(this.resumingScanAtSamePosition()&&!(me&&me.index===this.lastIndex)){let ue=this.getMatcher(0);ue.lastIndex=this.lastIndex+1,me=ue.exec(F)}return me&&(this.regexIndex+=me.position+1,this.regexIndex===this.count&&this.considerAll()),me}}function ce($){let F=new J;return $.contains.forEach(X=>F.addRule(X.begin,{rule:X,type:"begin"})),$.terminatorEnd&&F.addRule($.terminatorEnd,{type:"end"}),$.illegal&&F.addRule($.illegal,{type:"illegal"}),F}function de($,F){let X=$;if($.isCompiled)return X;[Qt,Jt,dn,tn].forEach(ue=>ue($,F)),t.compilerExtensions.forEach(ue=>ue($,F)),$.__beforeBegin=null,[Zt,qt,en].forEach(ue=>ue($,F)),$.isCompiled=!0;let me=null;return typeof $.keywords=="object"&&$.keywords.$pattern&&($.keywords=Object.assign({},$.keywords),me=$.keywords.$pattern,delete $.keywords.$pattern),me=me||/\w+/,$.keywords&&($.keywords=Rt($.keywords,t.case_insensitive)),X.keywordPatternRe=L(me,!0),F&&($.begin||($.begin=/\B|\b/),X.beginRe=L(X.begin),!$.end&&!$.endsWithParent&&($.end=/\B|\b/),$.end&&(X.endRe=L(X.end)),X.terminatorEnd=ge(X.end)||"",$.endsWithParent&&F.terminatorEnd&&(X.terminatorEnd+=($.end?"|":"")+F.terminatorEnd)),$.illegal&&(X.illegalRe=L($.illegal)),$.contains||($.contains=[]),$.contains=[].concat(...$.contains.map(function(ue){return hn(ue==="self"?$:ue)})),$.contains.forEach(function(ue){de(ue,X)}),$.starts&&de($.starts,F),X.matcher=ce(X),X}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=se(t.classNameAliases||{}),de(t)}function At(t){return t?t.endsWithParent||At(t.starts):!1}function hn(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(L){return se(t,{variants:null},L)})),t.cachedVariants?t.cachedVariants:At(t)?se(t,{starts:t.starts?se(t.starts):null}):Object.isFrozen(t)?se(t):t}var pn="11.11.1",En=class extends Error{constructor(t,L){super(t),this.name="HTMLInjectionError",this.html=L}},pt=ne,St=se,Ot=Symbol("nomatch"),gn=7,yt=function(t){let L=Object.create(null),G=Object.create(null),J=[],ce=!0,de="Could not find the language '{}', did you forget to load/include a language module?",$={disableAutodetect:!0,name:"Plain text",contains:[]},F={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Ne};function X(y){return F.noHighlightRe.test(y)}function me(y){let z=y.className+" ";z+=y.parentNode?y.parentNode.className:"";let te=F.languageDetectRe.exec(z);if(te){let ae=ze(te[1]);return ae||(Lt(de.replace("{}",te[1])),Lt("Falling back to no-highlight mode for this block.",y)),ae?te[1]:"no-highlight"}return z.split(/\s+/).find(ae=>X(ae)||ze(ae))}function ue(y,z,te){let ae="",pe="";typeof z=="object"?(ae=y,te=z.ignoreIllegals,pe=z.language):(et("10.7.0","highlight(lang, code, ...args) has been deprecated."),et("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),pe=y,ae=z),te===void 0&&(te=!0);let Be={code:ae,language:pe};lt("before:highlight",Be);let Ye=Be.result?Be.result:st(Be.language,Be.code,te);return Ye.code=Be.code,lt("after:highlight",Ye),Ye}function st(y,z,te,ae){let pe=Object.create(null);function Be(B,V){return B.keywords[V]}function Ye(){if(!K.keywords){fe.addText(re);return}let B=0;K.keywordPatternRe.lastIndex=0;let V=K.keywordPatternRe.exec(re),ee="";for(;V;){ee+=re.substring(B,V.index);let ie=We.case_insensitive?V[0].toLowerCase():V[0],Te=Be(K,ie);if(Te){let[Ge,kn]=Te;if(fe.addText(ee),ee="",pe[ie]=(pe[ie]||0)+1,pe[ie]<=gn&&(ut+=kn),Ge.startsWith("_"))ee+=V[0];else{let wn=We.classNameAliases[Ge]||Ge;He(V[0],wn)}}else ee+=V[0];B=K.keywordPatternRe.lastIndex,V=K.keywordPatternRe.exec(re)}ee+=re.substring(B),fe.addText(ee)}function ct(){if(re==="")return;let B=null;if(typeof K.subLanguage=="string"){if(!L[K.subLanguage]){fe.addText(re);return}B=st(K.subLanguage,re,!0,Dt[K.subLanguage]),Dt[K.subLanguage]=B._top}else B=gt(re,K.subLanguage.length?K.subLanguage:null);K.relevance>0&&(ut+=B.relevance),fe.__addSublanguage(B._emitter,B.language)}function ye(){K.subLanguage!=null?ct():Ye(),re=""}function He(B,V){B!==""&&(fe.startScope(V),fe.addText(B),fe.endScope())}function xt(B,V){let ee=1,ie=V.length-1;for(;ee<=ie;){if(!B._emit[ee]){ee++;continue}let Te=We.classNameAliases[B[ee]]||B[ee],Ge=V[ee];Te?He(Ge,Te):(re=Ge,Ye(),re=""),ee++}}function kt(B,V){return B.scope&&typeof B.scope=="string"&&fe.openNode(We.classNameAliases[B.scope]||B.scope),B.beginScope&&(B.beginScope._wrap?(He(re,We.classNameAliases[B.beginScope._wrap]||B.beginScope._wrap),re=""):B.beginScope._multi&&(xt(B.beginScope,V),re="")),K=Object.create(B,{parent:{value:K}}),K}function wt(B,V,ee){let ie=he(B.endRe,ee);if(ie){if(B["on:end"]){let Te=new Z(B);B["on:end"](V,Te),Te.isMatchIgnored&&(ie=!1)}if(ie){for(;B.endsParent&&B.parent;)B=B.parent;return B}}if(B.endsWithParent)return wt(B.parent,V,ee)}function yn(B){return K.matcher.regexIndex===0?(re+=B[0],1):(Tt=!0,0)}function In(B){let V=B[0],ee=B.rule,ie=new Z(ee),Te=[ee.__beforeBegin,ee["on:begin"]];for(let Ge of Te)if(Ge&&(Ge(B,ie),ie.isMatchIgnored))return yn(V);return ee.skip?re+=V:(ee.excludeBegin&&(re+=V),ye(),!ee.returnBegin&&!ee.excludeBegin&&(re=V)),kt(ee,B),ee.returnBegin?0:V.length}function Cn(B){let V=B[0],ee=z.substring(B.index),ie=wt(K,B,ee);if(!ie)return Ot;let Te=K;K.endScope&&K.endScope._wrap?(ye(),He(V,K.endScope._wrap)):K.endScope&&K.endScope._multi?(ye(),xt(K.endScope,B)):Te.skip?re+=V:(Te.returnEnd||Te.excludeEnd||(re+=V),ye(),Te.excludeEnd&&(re=V));do K.scope&&fe.closeNode(),!K.skip&&!K.subLanguage&&(ut+=K.relevance),K=K.parent;while(K!==ie.parent);return ie.starts&&kt(ie.starts,B),Te.returnEnd?0:V.length}function vn(){let B=[];for(let V=K;V!==We;V=V.parent)V.scope&&B.unshift(V.scope);B.forEach(V=>fe.openNode(V))}let dt={};function Mt(B,V){let ee=V&&V[0];if(re+=B,ee==null)return ye(),0;if(dt.type==="begin"&&V.type==="end"&&dt.index===V.index&&ee===""){if(re+=z.slice(V.index,V.index+1),!ce){let ie=new Error(`0 width match regex (${y})`);throw ie.languageName=y,ie.badRule=dt.rule,ie}return 1}if(dt=V,V.type==="begin")return In(V);if(V.type==="illegal"&&!te){let ie=new Error('Illegal lexeme "'+ee+'" for mode "'+(K.scope||"<unnamed>")+'"');throw ie.mode=K,ie}else if(V.type==="end"){let ie=Cn(V);if(ie!==Ot)return ie}if(V.type==="illegal"&&ee==="")return re+=`
`,1;if(bt>1e5&&bt>V.index*3)throw new Error("potential infinite loop, way more iterations than matches");return re+=ee,ee.length}let We=ze(y);if(!We)throw qe(de.replace("{}",y)),new Error('Unknown language: "'+y+'"');let xn=un(We),ft="",K=ae||xn,Dt={},fe=new F.__emitter(F);vn();let re="",ut=0,Je=0,bt=0,Tt=!1;try{if(We.__emitTokens)We.__emitTokens(z,fe);else{for(K.matcher.considerAll();;){bt++,Tt?Tt=!1:K.matcher.considerAll(),K.matcher.lastIndex=Je;let B=K.matcher.exec(z);if(!B)break;let V=z.substring(Je,B.index),ee=Mt(V,B);Je=B.index+ee}Mt(z.substring(Je))}return fe.finalize(),ft=fe.toHTML(),{language:y,value:ft,relevance:ut,illegal:!1,_emitter:fe,_top:K}}catch(B){if(B.message&&B.message.includes("Illegal"))return{language:y,value:pt(z),illegal:!0,relevance:0,_illegalBy:{message:B.message,index:Je,context:z.slice(Je-100,Je+100),mode:B.mode,resultSoFar:ft},_emitter:fe};if(ce)return{language:y,value:pt(z),illegal:!1,relevance:0,errorRaised:B,_emitter:fe,_top:K};throw B}}function Et(y){let z={value:pt(y),illegal:!1,relevance:0,_top:$,_emitter:new F.__emitter(F)};return z._emitter.addText(y),z}function gt(y,z){z=z||F.languages||Object.keys(L);let te=Et(y),ae=z.filter(ze).filter(vt).map(ye=>st(ye,y,!1));ae.unshift(te);let pe=ae.sort((ye,He)=>{if(ye.relevance!==He.relevance)return He.relevance-ye.relevance;if(ye.language&&He.language){if(ze(ye.language).supersetOf===He.language)return 1;if(ze(He.language).supersetOf===ye.language)return-1}return 0}),[Be,Ye]=pe,ct=Be;return ct.secondBest=Ye,ct}function mn(y,z,te){let ae=z&&G[z]||te;y.classList.add("hljs"),y.classList.add(`language-${ae}`)}function mt(y){let z=null,te=me(y);if(X(te))return;if(lt("before:highlightElement",{el:y,language:te}),y.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",y);return}if(y.children.length>0&&(F.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(y)),F.throwUnescapedHTML))throw new En("One of your code blocks includes unescaped HTML.",y.innerHTML);z=y;let ae=z.textContent,pe=te?ue(ae,{language:te,ignoreIllegals:!0}):gt(ae);y.innerHTML=pe.value,y.dataset.highlighted="yes",mn(y,te,pe.language),y.result={language:pe.language,re:pe.relevance,relevance:pe.relevance},pe.secondBest&&(y.secondBest={language:pe.secondBest.language,relevance:pe.secondBest.relevance}),lt("after:highlightElement",{el:y,result:pe,text:ae})}function fn(y){F=St(F,y)}let bn=()=>{ot(),et("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Tn(){ot(),et("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let It=!1;function ot(){function y(){ot()}if(document.readyState==="loading"){It||window.addEventListener("DOMContentLoaded",y,!1),It=!0;return}document.querySelectorAll(F.cssSelector).forEach(mt)}function Rn(y,z){let te=null;try{te=z(t)}catch(ae){if(qe("Language definition for '{}' could not be registered.".replace("{}",y)),ce)qe(ae);else throw ae;te=$}te.name||(te.name=y),L[y]=te,te.rawDefinition=z.bind(null,t),te.aliases&&Ct(te.aliases,{languageName:y})}function Nn(y){delete L[y];for(let z of Object.keys(G))G[z]===y&&delete G[z]}function Ln(){return Object.keys(L)}function ze(y){return y=(y||"").toLowerCase(),L[y]||L[G[y]]}function Ct(y,{languageName:z}){typeof y=="string"&&(y=[y]),y.forEach(te=>{G[te.toLowerCase()]=z})}function vt(y){let z=ze(y);return z&&!z.disableAutodetect}function _n(y){y["before:highlightBlock"]&&!y["before:highlightElement"]&&(y["before:highlightElement"]=z=>{y["before:highlightBlock"](Object.assign({block:z.el},z))}),y["after:highlightBlock"]&&!y["after:highlightElement"]&&(y["after:highlightElement"]=z=>{y["after:highlightBlock"](Object.assign({block:z.el},z))})}function An(y){_n(y),J.push(y)}function Sn(y){let z=J.indexOf(y);z!==-1&&J.splice(z,1)}function lt(y,z){let te=y;J.forEach(function(ae){ae[te]&&ae[te](z)})}function On(y){return et("10.7.0","highlightBlock will be removed entirely in v12.0"),et("10.7.0","Please use highlightElement now."),mt(y)}Object.assign(t,{highlight:ue,highlightAuto:gt,highlightAll:ot,highlightElement:mt,highlightBlock:On,configure:fn,initHighlighting:bn,initHighlightingOnLoad:Tn,registerLanguage:Rn,unregisterLanguage:Nn,listLanguages:Ln,getLanguage:ze,registerAliases:Ct,autoDetection:vt,inherit:St,addPlugin:An,removePlugin:Sn}),t.debugMode=function(){ce=!1},t.safeMode=function(){ce=!0},t.versionString=pn,t.regex={concat:be,lookahead:Ce,either:ve,optional:Pe,anyNumberOfTimes:we};for(let y in at)typeof at[y]=="object"&&Q(at[y]);return Object.assign(t,at),t},tt=yt({});tt.newInstance=()=>yt({}),U.exports=tt,tt.HighlightJS=tt,tt.default=tt}),v=j(Y(),1),e=v.default;function s(f){let U=f.regex,Q=/(?![A-Za-z0-9])(?![$])/,Z=U.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,Q),ne=U.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,Q),se=U.concat(/[A-Z]+/,Q),le={scope:"variable",match:"\\$+"+Z},oe={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},Re={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},Ee=f.inherit(f.APOS_STRING_MODE,{illegal:null}),Ie=f.inherit(f.QUOTE_STRING_MODE,{illegal:null,contains:f.QUOTE_STRING_MODE.contains.concat(Re)}),De={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:f.QUOTE_STRING_MODE.contains.concat(Re),"on:begin":(Oe,Le)=>{Le.data._beginMatch=Oe[1]||Oe[2]},"on:end":(Oe,Le)=>{Le.data._beginMatch!==Oe[1]&&Le.ignoreMatch()}},Ne=f.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),ge=`[ 	
]`,Ce={scope:"string",variants:[Ie,Ee,De,Ne]},we={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},Pe=["false","null","true"],be=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],Me=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],ve={keyword:be,literal:(Oe=>{let Le=[];return Oe.forEach(Ue=>{Le.push(Ue),Ue.toLowerCase()===Ue?Le.push(Ue.toUpperCase()):Le.push(Ue.toLowerCase())}),Le})(Pe),built_in:Me},xe=Oe=>Oe.map(Le=>Le.replace(/\|\d+$/,"")),he={variants:[{match:[/new/,U.concat(ge,"+"),U.concat("(?!",xe(Me).join("\\b|"),"\\b)"),ne],scope:{1:"keyword",4:"title.class"}}]},ke=U.concat(Z,"\\b(?!\\()"),Se={variants:[{match:[U.concat(/::/,U.lookahead(/(?!class\b)/)),ke],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[ne,U.concat(/::/,U.lookahead(/(?!class\b)/)),ke],scope:{1:"title.class",3:"variable.constant"}},{match:[ne,U.concat("::",U.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[ne,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},Fe={scope:"attr",match:U.concat(Z,U.lookahead(":"),U.lookahead(/(?!::)/))},_e={relevance:0,begin:/\(/,end:/\)/,keywords:ve,contains:[Fe,le,Se,f.C_BLOCK_COMMENT_MODE,Ce,we,he]},je={relevance:0,match:[/\b/,U.concat("(?!fn\\b|function\\b|",xe(be).join("\\b|"),"|",xe(Me).join("\\b|"),"\\b)"),Z,U.concat(ge,"*"),U.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[_e]};_e.contains.push(je);let Xe=[Fe,Se,f.C_BLOCK_COMMENT_MODE,Ce,we,he],Ke={begin:U.concat(/#\[\s*\\?/,U.either(ne,se)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:Pe,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:Pe,keyword:["new","array"]},contains:["self",...Xe]},...Xe,{scope:"meta",variants:[{match:ne},{match:se}]}]};return{case_insensitive:!1,keywords:ve,contains:[Ke,f.HASH_COMMENT_MODE,f.COMMENT("//","$"),f.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:f.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},oe,{scope:"variable.language",match:/\$this\b/},le,je,Se,{match:[/const/,/\s/,Z],scope:{1:"keyword",3:"variable.constant"}},he,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},f.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:ve,contains:["self",Ke,le,Se,f.C_BLOCK_COMMENT_MODE,Ce,we]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},f.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[f.inherit(f.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},f.UNDERSCORE_TITLE_MODE]},Ce,we]}}function c(f){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},f.inherit(f.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),f.inherit(f.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}var C="[A-Za-z$_][0-9A-Za-z$_]*",H=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],w=["true","false","null","undefined","NaN","Infinity"],h=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],b=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],A=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],d=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],_=[].concat(A,h,b);function x(f){let U=f.regex,Q=(Ae,{after:$e})=>{let Ze="</"+Ae[0].slice(1);return Ae.input.indexOf(Ze,$e)!==-1},Z=C,ne={begin:"<>",end:"</>"},se=/<[A-Za-z0-9\\._:-]+\s*\/>/,le={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Ae,$e)=>{let Ze=Ae[0].length+Ae.index,Ve=Ae.input[Ze];if(Ve==="<"||Ve===","){$e.ignoreMatch();return}Ve===">"&&(Q(Ae,{after:Ze})||$e.ignoreMatch());let nt,it=Ae.input.substring(Ze);if(nt=it.match(/^\s*=/)){$e.ignoreMatch();return}if((nt=it.match(/^\s+extends\s+/))&&nt.index===0){$e.ignoreMatch();return}}},oe={$pattern:C,keyword:H,literal:w,built_in:_,"variable.language":d},Re="[0-9](_?[0-9])*",Ee=`\\.(${Re})`,Ie="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",De={className:"number",variants:[{begin:`(\\b(${Ie})((${Ee})|\\.)?|(${Ee}))[eE][+-]?(${Re})\\b`},{begin:`\\b(${Ie})\\b((${Ee})\\b|\\.)?|(${Ee})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},Ne={className:"subst",begin:"\\$\\{",end:"\\}",keywords:oe,contains:[]},ge={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,Ne],subLanguage:"xml"}},Ce={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,Ne],subLanguage:"css"}},we={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,Ne],subLanguage:"graphql"}},Pe={className:"string",begin:"`",end:"`",contains:[f.BACKSLASH_ESCAPE,Ne]},be={className:"comment",variants:[f.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:Z+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),f.C_BLOCK_COMMENT_MODE,f.C_LINE_COMMENT_MODE]},Me=[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,ge,Ce,we,Pe,{match:/\$\d+/},De];Ne.contains=Me.concat({begin:/\{/,end:/\}/,keywords:oe,contains:["self"].concat(Me)});let ve=[].concat(be,Ne.contains),xe=ve.concat([{begin:/(\s*)\(/,end:/\)/,keywords:oe,contains:["self"].concat(ve)}]),he={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:oe,contains:xe},ke={variants:[{match:[/class/,/\s+/,Z,/\s+/,/extends/,/\s+/,U.concat(Z,"(",U.concat(/\./,Z),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,Z],scope:{1:"keyword",3:"title.class"}}]},Se={relevance:0,match:U.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...h,...b]}},Fe={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},_e={variants:[{match:[/function/,/\s+/,Z,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[he],illegal:/%/},je={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Xe(Ae){return U.concat("(?!",Ae.join("|"),")")}let Ke={match:U.concat(/\b/,Xe([...A,"super","import"].map(Ae=>`${Ae}\\s*\\(`)),Z,U.lookahead(/\s*\(/)),className:"title.function",relevance:0},Oe={begin:U.concat(/\./,U.lookahead(U.concat(Z,/(?![0-9A-Za-z$_(])/))),end:Z,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Le={match:[/get|set/,/\s+/,Z,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},he]},Ue="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+f.UNDERSCORE_IDENT_RE+")\\s*=>",Qe={match:[/const|var|let/,/\s+/,Z,/\s*/,/=\s*/,/(async\s*)?/,U.lookahead(Ue)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[he]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:oe,exports:{PARAMS_CONTAINS:xe,CLASS_REFERENCE:Se},illegal:/#(?![$_A-z])/,contains:[f.SHEBANG({label:"shebang",binary:"node",relevance:5}),Fe,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,ge,Ce,we,Pe,be,{match:/\$\d+/},De,Se,{scope:"attr",match:Z+U.lookahead(":"),relevance:0},Qe,{begin:"("+f.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[be,f.REGEXP_MODE,{className:"function",begin:Ue,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:f.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:oe,contains:xe}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:ne.begin,end:ne.end},{match:se},{begin:le.begin,"on:begin":le.isTrulyOpeningTag,end:le.end}],subLanguage:"xml",contains:[{begin:le.begin,end:le.end,skip:!0,contains:["self"]}]}]},_e,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+f.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[he,f.inherit(f.TITLE_MODE,{begin:Z,className:"title.function"})]},{match:/\.\.\./,relevance:0},Oe,{match:"\\$"+Z,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[he]},Ke,je,ke,Le,{match:/\$[(.]/}]}}function N(f){let U=f.regex,Q=f.COMMENT("--","$"),Z={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},ne={begin:/"/,end:/"/,contains:[{match:/""/}]},se=["true","false","unknown"],le=["double precision","large object","with timezone","without timezone"],oe=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],Re=["add","asc","collation","desc","final","first","last","view"],Ee=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],Ie=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],De=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],Ne=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],ge=Ie,Ce=[...Ee,...Re].filter(he=>!Ie.includes(he)),we={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},Pe={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},be={match:U.concat(/\b/,U.either(...ge),/\s*\(/),relevance:0,keywords:{built_in:ge}};function Me(he){return U.concat(/\b/,U.either(...he.map(ke=>ke.replace(/\s+/,"\\s+"))),/\b/)}let ve={scope:"keyword",match:Me(Ne),relevance:0};function xe(he,{exceptions:ke,when:Se}={}){let Fe=Se;return ke=ke||[],he.map(_e=>_e.match(/\|\d+$/)||ke.includes(_e)?_e:Fe(_e)?`${_e}|0`:_e)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:xe(Ce,{when:he=>he.length<3}),literal:se,type:oe,built_in:De},contains:[{scope:"type",match:Me(le)},ve,be,we,Z,ne,f.C_NUMBER_MODE,f.C_BLOCK_COMMENT_MODE,Q,Pe]}}function r(f){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}var p=f=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:f.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:f.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),E=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],k=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],M=[...E,...k],R=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),i=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),D=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),P=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function g(f){let U=f.regex,Q=p(f),Z={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},ne="and or not only",se=/@-?\w[\w]*(-\w+)*/,le="[a-zA-Z-][a-zA-Z0-9_-]*",oe=[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[Q.BLOCK_COMMENT,Z,Q.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+le,relevance:0},Q.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+i.join("|")+")"},{begin:":(:)?("+D.join("|")+")"}]},Q.CSS_VARIABLE,{className:"attribute",begin:"\\b("+P.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[Q.BLOCK_COMMENT,Q.HEXCOLOR,Q.IMPORTANT,Q.CSS_NUMBER_MODE,...oe,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...oe,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},Q.FUNCTION_DISPATCH]},{begin:U.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:se},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:ne,attribute:R.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...oe,Q.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+M.join("|")+")\\b"}]}}function o(f){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function u(f){let U=f.regex,Q=U.concat(/[\p{L}_]/u,U.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),Z=/[\p{L}0-9._:-]+/u,ne={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},se={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},le=f.inherit(se,{begin:/\(/,end:/\)/}),oe=f.inherit(f.APOS_STRING_MODE,{className:"string"}),Re=f.inherit(f.QUOTE_STRING_MODE,{className:"string"}),Ee={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:Z,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[ne]},{begin:/'/,end:/'/,contains:[ne]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[se,Re,oe,le,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[se,le,Re,oe]}]}]},f.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},ne,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[Re]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[Ee],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[Ee],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:U.concat(/</,U.lookahead(U.concat(Q,U.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:Q,relevance:0,starts:Ee}]},{className:"tag",begin:U.concat(/<\//,U.lookahead(U.concat(Q,/>/))),contains:[{className:"name",begin:Q,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function O(f){let U="true false yes no null",Q="[\\w#;/?:@&=+$,.~*'()[\\]]+",Z={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},ne={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},se={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},le={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[f.BACKSLASH_ESCAPE,ne]},oe=f.inherit(le,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),Re={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},Ee={end:",",endsWithParent:!0,excludeEnd:!0,keywords:U,relevance:0},Ie={begin:/\{/,end:/\}/,contains:[Ee],illegal:"\\n",relevance:0},De={begin:"\\[",end:"\\]",contains:[Ee],illegal:"\\n",relevance:0},Ne=[Z,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+Q},{className:"type",begin:"!<"+Q+">"},{className:"type",begin:"!"+Q},{className:"type",begin:"!!"+Q},{className:"meta",begin:"&"+f.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+f.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},f.HASH_COMMENT_MODE,{beginKeywords:U,keywords:{literal:U}},Re,{className:"number",begin:f.C_NUMBER_RE+"\\b",relevance:0},Ie,De,se,le],ge=[...Ne];return ge.pop(),ge.push(oe),Ee.contains=ge,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:Ne}}e.registerLanguage("php",s),e.registerLanguage("php-template",c),e.registerLanguage("javascript",x),e.registerLanguage("sql",N),e.registerLanguage("shell",r),e.registerLanguage("css",g),e.registerLanguage("plaintext",o),e.registerLanguage("xml",u),e.registerLanguage("yaml",O);var q=e.getLanguage("sql");q.keywords.keyword=Array.from(new Set([...q.keywords.keyword,"if","ifnull","limit","aes_decrypt","aes_encrypt","ascii","bin","bit_and","bit_count","bit_length","bit_or","bit_xor","coercibility","concat","group_concat","concat_ws","connection_id","conv","curdate","curtime","database","date_add","date_format","date_sub","dayname","dayofmonth","dayofweek","dayofyear","elt","export_set","field","find_in_set","format","from_base64","from_days","from_unixtime","get_lock","greatest","hex","ifnull","inet_aton","inet_ntoa","instr","isnull","last_insert_id","least","lpad","ltrim","make_set","md5","monthname","now","oct","ord","password","quote","release_lock","repeat","replace","reverse","rpad","rtrim","sec_to_time","sha1","sha2","sleep","soundex","space","strcmp","str_to_date","substr","sysdate","time_format","time_to_sec","to_base64","to_days","unix_timestamp","updatexml","version","week","weekday","yearweek","length","substring_index","json_unquote","json_extract","json_contains"])),q.keywords.type=Array.from(new Set([...q.keywords.type,"longtext"])),e.configure({classPrefix:"phpdebugbar-hljs-"}),globalThis.phpdebugbar_hljs=e.default})();(()=>{var n=Object.create,W=Object.defineProperty,T=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,l=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,a=(r,p)=>()=>(p||r((p={exports:{}}).exports,p),p.exports),S=(r,p,E,k)=>{if(p&&typeof p=="object"||typeof p=="function")for(let M of m(p))!I.call(r,M)&&M!==E&&W(r,M,{get:()=>p[M],enumerable:!(k=T(p,M))||k.enumerable});return r},j=(r,p,E)=>(E=r!=null?n(l(r)):{},S(p||!r||!r.__esModule?W(E,"default",{value:r,enumerable:!0}):E,r)),Y=a(r=>{"use strict";r.__esModule=!0;var p=/[\\^$.*+?()[\]{}|]/g,E=RegExp(p.source);function k(M){return M&&E.test(M)?M.replace(p,"\\$&"):M||""}r.default=k}),v=a(r=>{"use strict";r.__esModule=!0,r.TokenTypes=void 0;var p;(function(E){E.WHITESPACE="whitespace",E.WORD="word",E.STRING="string",E.RESERVED="reserved",E.RESERVED_TOP_LEVEL="reserved-top-level",E.RESERVED_TOP_LEVEL_NO_INDENT="reserved-top-level-no-indent",E.RESERVED_NEWLINE="reserved-newline",E.OPERATOR="operator",E.NO_SPACE_OPERATOR="no-space-operator",E.OPEN_PAREN="open-paren",E.CLOSE_PAREN="close-paren",E.LINE_COMMENT="line-comment",E.BLOCK_COMMENT="block-comment",E.NUMBER="number",E.PLACEHOLDER="placeholder",E.SERVERVARIABLE="servervariable"})(p=r.TokenTypes||(r.TokenTypes={}))}),e=a(r=>{"use strict";var p=r&&r.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};r.__esModule=!0;var E=p(Y()),k=v(),M=(function(){function R(i){this.WHITESPACE_REGEX=/^(\s+)/u,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+|([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}))\b/u,this.AMBIGUOS_OPERATOR_REGEX=/^(\?\||\?&)/u,this.OPERATOR_REGEX=/^(!=|<>|>>|<<|==|<=|>=|!<|!>|\|\|\/|\|\/|\|\||~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|:=|=>|&&|@>|<@|#-|@@|@|.)/u,this.NO_SPACE_OPERATOR_REGEX=/^(::|->>|->|#>>|#>)/u,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/u,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(i.lineCommentTypes),this.RESERVED_TOP_LEVEL_REGEX=this.createReservedWordRegex(i.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=this.createReservedWordRegex(i.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(i.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(i.reservedWords),this.WORD_REGEX=this.createWordRegex(i.specialWordChars),this.STRING_REGEX=this.createStringRegex(i.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(i.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(i.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(i.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(i.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(i.namedPlaceholderTypes,this.createStringPattern(i.stringTypes))}return R.prototype.createLineCommentRegex=function(i){var D="((?<!#)>|(?:[^>]))";return new RegExp("^((?:".concat(i.map(function(P){return(0,E.default)(P)}).join("|"),")").concat(D,`.*?(?:\r
|\r|
|$))`),"u")},R.prototype.createReservedWordRegex=function(i){var D=i.join("|").replace(/ /gu,"\\s+");return new RegExp("^(".concat(D,")\\b"),"iu")},R.prototype.createWordRegex=function(i){return new RegExp("^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}".concat(i.join(""),"]+)"),"u")},R.prototype.createStringRegex=function(i){return new RegExp("^("+this.createStringPattern(i)+")","u")},R.prototype.createStringPattern=function(i){var D={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)","E''":"(((E|e)'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)"};return i.map(function(P){return D[P]}).join("|")},R.prototype.createParenRegex=function(i){var D=this;return new RegExp("^("+i.map(function(P){return D.escapeParen(P)}).join("|")+")","iu")},R.prototype.escapeParen=function(i){return i.length===1?(0,E.default)(i):"\\b"+i+"\\b"},R.prototype.createPlaceholderRegex=function(i,D){if(!i||i.length===0)return null;var P=i.map(E.default).join("|");return new RegExp("^((?:".concat(P,")(?:").concat(D,"))"),"u")},R.prototype.tokenize=function(i){if(!i)return[];for(var D=[],P;i.length;)P=this.getNextToken(i,P),i=i.substring(P.value.length),D.push(P);return D},R.prototype.getNextToken=function(i,D){return this.getWhitespaceToken(i)||this.getCommentToken(i)||this.getStringToken(i)||this.getOpenParenToken(i)||this.getCloseParenToken(i)||this.getAmbiguosOperatorToken(i)||this.getNoSpaceOperatorToken(i)||this.getServerVariableToken(i)||this.getPlaceholderToken(i)||this.getNumberToken(i)||this.getReservedWordToken(i,D)||this.getWordToken(i)||this.getOperatorToken(i)},R.prototype.getWhitespaceToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.WHITESPACE,regex:this.WHITESPACE_REGEX})},R.prototype.getCommentToken=function(i){return this.getLineCommentToken(i)||this.getBlockCommentToken(i)},R.prototype.getLineCommentToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})},R.prototype.getBlockCommentToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})},R.prototype.getStringToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.STRING,regex:this.STRING_REGEX})},R.prototype.getOpenParenToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})},R.prototype.getCloseParenToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})},R.prototype.getPlaceholderToken=function(i){return this.getIdentNamedPlaceholderToken(i)||this.getStringNamedPlaceholderToken(i)||this.getIndexedPlaceholderToken(i)},R.prototype.getServerVariableToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.SERVERVARIABLE,regex:/(^@@\w+)/iu})},R.prototype.getIdentNamedPlaceholderToken=function(i){return this.getPlaceholderTokenWithKey({input:i,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(D){return D.slice(1)}})},R.prototype.getStringNamedPlaceholderToken=function(i){var D=this;return this.getPlaceholderTokenWithKey({input:i,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(P){return D.getEscapedPlaceholderKey({key:P.slice(2,-1),quoteChar:P.slice(-1)})}})},R.prototype.getIndexedPlaceholderToken=function(i){return this.getPlaceholderTokenWithKey({input:i,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(D){return D.slice(1)}})},R.prototype.getPlaceholderTokenWithKey=function(i){var D=i.input,P=i.regex,g=i.parseKey,o=this.getTokenOnFirstMatch({input:D,regex:P,type:k.TokenTypes.PLACEHOLDER});return o&&(o.key=g(o.value)),o},R.prototype.getEscapedPlaceholderKey=function(i){var D=i.key,P=i.quoteChar;return D.replace(new RegExp((0,E.default)("\\"+P),"gu"),P)},R.prototype.getNumberToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.NUMBER,regex:this.NUMBER_REGEX})},R.prototype.getOperatorToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.OPERATOR,regex:this.OPERATOR_REGEX})},R.prototype.getAmbiguosOperatorToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.OPERATOR,regex:this.AMBIGUOS_OPERATOR_REGEX})},R.prototype.getNoSpaceOperatorToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.NO_SPACE_OPERATOR,regex:this.NO_SPACE_OPERATOR_REGEX})},R.prototype.getReservedWordToken=function(i,D){if(!(D&&D.value&&D.value==="."))return this.getToplevelReservedToken(i)||this.getNewlineReservedToken(i)||this.getTopLevelReservedTokenNoIndent(i)||this.getPlainReservedToken(i)},R.prototype.getToplevelReservedToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})},R.prototype.getNewlineReservedToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})},R.prototype.getPlainReservedToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.RESERVED,regex:this.RESERVED_PLAIN_REGEX})},R.prototype.getTopLevelReservedTokenNoIndent=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})},R.prototype.getWordToken=function(i){return this.getTokenOnFirstMatch({input:i,type:k.TokenTypes.WORD,regex:this.WORD_REGEX})},R.prototype.getTokenOnFirstMatch=function(i){var D=i.input,P=i.type,g=i.regex,o=D.match(g);if(o)return{type:P,value:o[1]}},R})();r.default=M}),s=a(r=>{"use strict";r.__esModule=!0;var p=function(E){return E===void 0&&(E=[]),E[E.length-1]};r.default=p}),c=a(r=>{"use strict";var p=r&&r.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};r.__esModule=!0;var E=p(s()),k="top-level",M="block-level",R=(function(){function i(D){this.indent=D,this.indentTypes=[],this.indent=D||"  "}return i.prototype.getIndent=function(){return new Array(this.indentTypes.length).fill(this.indent).join("")},i.prototype.increaseTopLevel=function(){this.indentTypes.push(k)},i.prototype.increaseBlockLevel=function(){this.indentTypes.push(M)},i.prototype.decreaseTopLevel=function(){(0,E.default)(this.indentTypes)===k&&this.indentTypes.pop()},i.prototype.decreaseBlockLevel=function(){for(;this.indentTypes.length>0;){var D=this.indentTypes.pop();if(D!==k)break}},i.prototype.resetIndentation=function(){this.indentTypes=[]},i})();r.default=R}),C=a(r=>{"use strict";r.__esModule=!0;var p=v(),E=50,k=(function(){function M(){this.level=0}return M.prototype.beginIfPossible=function(R,i){this.level===0&&this.isInlineBlock(R,i)?this.level=1:this.level>0?this.level++:this.level=0},M.prototype.end=function(){this.level--},M.prototype.isActive=function(){return this.level>0},M.prototype.isInlineBlock=function(R,i){for(var D=0,P=0,g=i;g<R.length;g++){var o=R[g];if(D+=o.value.length,D>E)return!1;if(o.type===p.TokenTypes.OPEN_PAREN)P++;else if(o.type===p.TokenTypes.CLOSE_PAREN&&(P--,P===0))return!0;if(this.isForbiddenToken(o))return!1}return!1},M.prototype.isForbiddenToken=function(R){var i=R.type,D=R.value;return i===p.TokenTypes.RESERVED_TOP_LEVEL||i===p.TokenTypes.RESERVED_NEWLINE||i===p.TokenTypes.LINE_COMMENT||i===p.TokenTypes.BLOCK_COMMENT||D===";"},M})();r.default=k}),H=a(r=>{"use strict";r.__esModule=!0;var p=(function(){function E(k){this.params=k,this.index=0,this.params=k}return E.prototype.get=function(k){var M=k.key,R=k.value;return this.params?M?this.params[M]:this.params[this.index++]:R},E})();r.default=p}),w=a(r=>{"use strict";var p=r&&r.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};r.__esModule=!0;var E=v(),k=p(c()),M=p(C()),R=p(H()),i=[" ","	"],D=function(g){for(var o=g.length-1;o>=0&&i.includes(g[o]);)o--;return g.substring(0,o+1)},P=(function(){function g(o,u,O){this.cfg=o,this.tokenizer=u,this.tokenOverride=O,this.tokens=[],this.previousReservedWord={type:null,value:null},this.previousNonWhiteSpace={type:null,value:null},this.index=0,this.indentation=new k.default(this.cfg.indent),this.inlineBlock=new M.default,this.params=new R.default(this.cfg.params)}return g.prototype.format=function(o){this.tokens=this.tokenizer.tokenize(o);var u=this.getFormattedQueryFromTokens();return u.trim()},g.prototype.getFormattedQueryFromTokens=function(){var o=this,u="";return this.tokens.forEach(function(O,q){o.index=q,o.tokenOverride&&(O=o.tokenOverride(O,o.previousReservedWord)||O),O.type===E.TokenTypes.WHITESPACE?u=o.formatWhitespace(O,u):O.type===E.TokenTypes.LINE_COMMENT?u=o.formatLineComment(O,u):O.type===E.TokenTypes.BLOCK_COMMENT?u=o.formatBlockComment(O,u):O.type===E.TokenTypes.RESERVED_TOP_LEVEL||O.type===E.TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT||O.type===E.TokenTypes.RESERVED_NEWLINE||O.type===E.TokenTypes.RESERVED?u=o.formatReserved(O,u):O.type===E.TokenTypes.OPEN_PAREN?u=o.formatOpeningParentheses(O,u):O.type===E.TokenTypes.CLOSE_PAREN?u=o.formatClosingParentheses(O,u):O.type===E.TokenTypes.NO_SPACE_OPERATOR?u=o.formatWithoutSpaces(O,u):O.type===E.TokenTypes.PLACEHOLDER||O.type===E.TokenTypes.SERVERVARIABLE?u=o.formatPlaceholder(O,u):O.value===","?u=o.formatComma(O,u):O.value===":"?u=o.formatWithSpaceAfter(O,u):O.value==="."?u=o.formatWithoutSpaces(O,u):O.value===";"?u=o.formatQuerySeparator(O,u):u=o.formatWithSpaces(O,u),O.type!==E.TokenTypes.WHITESPACE&&(o.previousNonWhiteSpace=O)}),u},g.prototype.formatWhitespace=function(o,u){return this.cfg.linesBetweenQueries==="preserve"&&/((\r\n|\n)(\r\n|\n)+)/u.test(o.value)&&this.previousToken().value===";"?u.replace(/(\n|\r\n)$/u,"")+o.value:u},g.prototype.formatReserved=function(o,u){return o.type===E.TokenTypes.RESERVED_NEWLINE&&this.previousReservedWord&&this.previousReservedWord.value&&o.value.toUpperCase()==="AND"&&this.previousReservedWord.value.toUpperCase()==="BETWEEN"&&(o.type=E.TokenTypes.RESERVED),o.type===E.TokenTypes.RESERVED_TOP_LEVEL?u=this.formatTopLevelReservedWord(o,u):o.type===E.TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT?u=this.formatTopLevelReservedWordNoIndent(o,u):o.type===E.TokenTypes.RESERVED_NEWLINE?u=this.formatNewlineReservedWord(o,u):u=this.formatWithSpaces(o,u),this.previousReservedWord=o,u},g.prototype.formatLineComment=function(o,u){return this.addNewline(u+o.value)},g.prototype.formatBlockComment=function(o,u){return this.addNewline(this.addNewline(u)+this.indentComment(o.value))},g.prototype.indentComment=function(o){return o.replace(/\n[ \t]*/gu,`
`+this.indentation.getIndent()+" ")},g.prototype.formatTopLevelReservedWordNoIndent=function(o,u){return this.indentation.decreaseTopLevel(),u=this.addNewline(u)+this.equalizeWhitespace(this.formatReservedWord(o.value)),this.addNewline(u)},g.prototype.formatTopLevelReservedWord=function(o,u){var O=this.previousNonWhiteSpace.value!==","&&!["GRANT"].includes("".concat(this.previousNonWhiteSpace.value).toUpperCase());return O&&(this.indentation.decreaseTopLevel(),u=this.addNewline(u)),u=u+this.equalizeWhitespace(this.formatReservedWord(o.value))+" ",O&&this.indentation.increaseTopLevel(),u},g.prototype.formatNewlineReservedWord=function(o,u){return this.addNewline(u)+this.equalizeWhitespace(this.formatReservedWord(o.value))+" "},g.prototype.equalizeWhitespace=function(o){return o.replace(/\s+/gu," ")},g.prototype.formatOpeningParentheses=function(o,u){o.value=this.formatCase(o.value);var O=this.previousToken().type;return O!==E.TokenTypes.WHITESPACE&&O!==E.TokenTypes.OPEN_PAREN&&O!==E.TokenTypes.LINE_COMMENT&&(u=D(u)),u+=o.value,this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),u=this.addNewline(u)),u},g.prototype.formatClosingParentheses=function(o,u){return o.value=this.formatCase(o.value),this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(o,u)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(o,this.addNewline(u)))},g.prototype.formatPlaceholder=function(o,u){return u+this.params.get(o)+" "},g.prototype.formatComma=function(o,u){return u=D(u)+o.value+" ",this.inlineBlock.isActive()||/^LIMIT$/iu.test(this.previousReservedWord.value)?u:this.addNewline(u)},g.prototype.formatWithSpaceAfter=function(o,u){return D(u)+o.value+" "},g.prototype.formatWithoutSpaces=function(o,u){return D(u)+o.value},g.prototype.formatWithSpaces=function(o,u){var O=o.type===E.TokenTypes.RESERVED?this.formatReservedWord(o.value):o.value;return u+O+" "},g.prototype.formatReservedWord=function(o){return this.formatCase(o)},g.prototype.formatQuerySeparator=function(o,u){this.indentation.resetIndentation();var O=`
`;return this.cfg.linesBetweenQueries!=="preserve"&&(O=`
`.repeat(this.cfg.linesBetweenQueries||1)),D(u)+o.value+O},g.prototype.addNewline=function(o){return o=D(o),o.endsWith(`
`)||(o+=`
`),o+this.indentation.getIndent()},g.prototype.previousToken=function(){return this.tokens[this.index-1]||{type:null,value:null}},g.prototype.formatCase=function(o){return this.cfg.reservedWordCase==="upper"?o.toUpperCase():this.cfg.reservedWordCase==="lower"?o.toLowerCase():o},g})();r.default=P}),h=a(r=>{"use strict";var p=r&&r.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};r.__esModule=!0;var E=p(e()),k=p(w()),M=(function(){function R(i){this.cfg=i}return R.prototype.format=function(i){return new k.default(this.cfg,this.tokenizer(),this.tokenOverride).format(i)},R.prototype.tokenize=function(i){return this.tokenizer().tokenize(i)},R.prototype.tokenizer=function(){return new E.default(this.getTokenizerConfig())},R})();r.default=M}),b=a(r=>{"use strict";var p=r&&r.__extends||(function(){var g=function(o,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,q){O.__proto__=q}||function(O,q){for(var f in q)Object.prototype.hasOwnProperty.call(q,f)&&(O[f]=q[f])},g(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");g(o,u);function O(){this.constructor=o}o.prototype=u===null?Object.create(u):(O.prototype=u.prototype,new O)}})(),E=r&&r.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};r.__esModule=!0;var k=E(h()),M=(function(g){p(o,g);function o(){return g!==null&&g.apply(this,arguments)||this}return o.prototype.getTokenizerConfig=function(){return{reservedWords:R,reservedTopLevelWords:i,reservedNewlineWords:P,reservedTopLevelWordsNoIndent:D,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"]}},o})(k.default);r.default=M;var R=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],i=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],D=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],P=["AND","CROSS JOIN","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"]}),A=a(r=>{"use strict";var p=r&&r.__extends||(function(){var g=function(o,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,q){O.__proto__=q}||function(O,q){for(var f in q)Object.prototype.hasOwnProperty.call(q,f)&&(O[f]=q[f])},g(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");g(o,u);function O(){this.constructor=o}o.prototype=u===null?Object.create(u):(O.prototype=u.prototype,new O)}})(),E=r&&r.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};r.__esModule=!0;var k=E(h()),M=(function(g){p(o,g);function o(){return g!==null&&g.apply(this,arguments)||this}return o.prototype.getTokenizerConfig=function(){return{reservedWords:R,reservedTopLevelWords:i,reservedNewlineWords:P,reservedTopLevelWordsNoIndent:D,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],specialWordChars:[]}},o})(k.default);r.default=M;var R=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],i=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],D=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],P=["AND","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","XOR"]}),d=a(r=>{"use strict";var p=r&&r.__extends||(function(){var o=function(u,O){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,f){q.__proto__=f}||function(q,f){for(var U in f)Object.prototype.hasOwnProperty.call(f,U)&&(q[U]=f[U])},o(u,O)};return function(u,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");o(u,O);function q(){this.constructor=u}u.prototype=O===null?Object.create(O):(q.prototype=O.prototype,new q)}})(),E=r&&r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};r.__esModule=!0;var k=E(h()),M=v(),R=(function(o){p(u,o);function u(){var O=o!==null&&o.apply(this,arguments)||this;return O.tokenOverride=function(q,f){if(q.type===M.TokenTypes.RESERVED_TOP_LEVEL&&f.value&&q.value.toUpperCase()==="SET"&&f.value.toUpperCase()==="BY")return q.type=M.TokenTypes.RESERVED,q},O}return u.prototype.getTokenizerConfig=function(){return{reservedWords:i,reservedTopLevelWords:D,reservedNewlineWords:g,reservedTopLevelWordsNoIndent:P,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]}},u})(k.default);r.default=R;var i=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],D=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],P=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],g=["AND","CROSS APPLY","CROSS JOIN","ELSE","END","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"]}),_=a(r=>{"use strict";var p=r&&r.__extends||(function(){var g=function(o,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,q){O.__proto__=q}||function(O,q){for(var f in q)Object.prototype.hasOwnProperty.call(q,f)&&(O[f]=q[f])},g(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");g(o,u);function O(){this.constructor=o}o.prototype=u===null?Object.create(u):(O.prototype=u.prototype,new O)}})(),E=r&&r.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};r.__esModule=!0;var k=E(h()),M=(function(g){p(o,g);function o(){return g!==null&&g.apply(this,arguments)||this}return o.prototype.getTokenizerConfig=function(){return{reservedWords:R,reservedTopLevelWords:i,reservedNewlineWords:P,reservedTopLevelWordsNoIndent:D,stringTypes:['""',"N''","''","``","[]","E''"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@",":","%","$"],lineCommentTypes:["#","--"],specialWordChars:[]}},o})(k.default);r.default=M;var R=["ACCESSIBLE","ACTION","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ANALYSE","ANALYZE","AS","ASC","AUTOCOMMIT","AUTO_INCREMENT","BACKUP","BEGIN","BETWEEN","BINLOG","BOTH","CASCADE","CASE","CHANGE","CHANGED","CHARACTER SET","CHARSET","CHECK","CHECKSUM","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPRESSED","CONCURRENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CREATE","CROSS","CURRENT_TIMESTAMP","DATABASE","DATABASES","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DEFAULT","DEFINER","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO","DROP","DUMPFILE","DUPLICATE","DYNAMIC","ELSE","ENCLOSED","END","ENGINE","ENGINES","ENGINE_TYPE","ESCAPE","ESCAPED","EVENTS","EXEC","EXECUTE","EXISTS","EXPLAIN","EXTENDED","FAST","FETCH","FIELDS","FILE","FIRST","FIXED","FLUSH","FOR","FORCE","FOREIGN","FULL","FULLTEXT","FUNCTION","GLOBAL","GRANTS","GROUP_CONCAT","HEAP","HIGH_PRIORITY","HOSTS","HOUR","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IFNULL","IGNORE","IN","INDEX","INDEXES","INFILE","INSERT","INSERT_ID","INSERT_METHOD","INTERVAL","INTO","INVOKER","IS","ISOLATION","KEY","KEYS","KILL","LAST_INSERT_ID","LEADING","LEVEL","LIKE","LINEAR","LINES","LOAD","LOCAL","LOCK","LOCKS","LOGS","LOW_PRIORITY","MARIA","MASTER","MASTER_CONNECT_RETRY","MASTER_HOST","MASTER_LOG_FILE","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MERGE","MINUTE","MINUTE_SECOND","MIN_ROWS","MODE","MONTH","MRG_MYISAM","MYISAM","NAMES","NATURAL","NOT","NOW()","NULL","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPEN","OPTIMIZE","OPTION","OPTIONALLY","OUTFILE","PACK_KEYS","PAGE","PARTIAL","PARTITION","PARTITIONS","PASSWORD","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PURGE","QUICK","RAID0","RAID_CHUNKS","RAID_CHUNKSIZE","RAID_TYPE","RANGE","READ","READ_ONLY","READ_WRITE","REFERENCES","REGEXP","RELOAD","RENAME","REPAIR","REPEATABLE","REPLACE","REPLICATION","RESET","RESTORE","RESTRICT","RETURN","RETURNS","REVOKE","RLIKE","ROLLBACK","ROW","ROWS","ROW_FORMAT","SECOND","SECURITY","SEPARATOR","SERIALIZABLE","SESSION","SHARE","SHOW","SHUTDOWN","SLAVE","SONAME","SOUNDS","SQL","SQL_AUTO_IS_NULL","SQL_BIG_RESULT","SQL_BIG_SELECTS","SQL_BIG_TABLES","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_LOG_BIN","SQL_LOG_OFF","SQL_LOG_UPDATE","SQL_LOW_PRIORITY_UPDATES","SQL_MAX_JOIN_SIZE","SQL_NO_CACHE","SQL_QUOTE_SHOW_CREATE","SQL_SAFE_UPDATES","SQL_SELECT_LIMIT","SQL_SLAVE_SKIP_COUNTER","SQL_SMALL_RESULT","SQL_WARNINGS","START","STARTING","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","STRIPED","SUPER","TABLE","TABLES","TEMPORARY","TERMINATED","THEN","TO","TRAILING","TRANSACTIONAL","TRIGGER","TRUE","TRUNCATE","TYPE","TYPES","UNCOMMITTED","UNIQUE","UNLOCK","UNSIGNED","USAGE","USE","USING","VARIABLES","VIEW","WHEN","WITH","WORK","WRITE","YEAR_MONTH"],i=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CREATE OR REPLACE","DECLARE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GO","GRANT","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","MODIFY","ORDER BY","RETURNING","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],D=["INTERSECT ALL","INTERSECT","MINUS","UNION ALL","UNION"],P=["AND","CROSS APPLY","CROSS JOIN","ELSE","INNER JOIN","FULL JOIN","FULL OUTER JOIN","LEFT JOIN","LEFT OUTER JOIN","NATURAL JOIN","OR","OUTER APPLY","OUTER JOIN","RENAME","RIGHT JOIN","RIGHT OUTER JOIN","JOIN","WHEN","XOR"]}),x=a(r=>{"use strict";var p=r&&r.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};r.__esModule=!0,r.tokenize=r.format=void 0;var E=p(b()),k=p(A()),M=p(d()),R=p(_()),i=function(P,g){switch(g===void 0&&(g={}),g.language){case"db2":return new E.default(g).format(P);case"n1ql":return new k.default(g).format(P);case"pl/sql":return new M.default(g).format(P);default:return new R.default(g).format(P)}};r.format=i;var D=function(P,g){return g===void 0&&(g={}),new R.default(g).tokenize(P)};r.tokenize=D,r.default={format:r.format,tokenize:r.tokenize}}),N=j(x(),1);globalThis.phpdebugbar_sqlformatter=N.default.default})();window.PhpDebugBar=window.PhpDebugBar||{};(function(){const n=window.PhpDebugBar;n.utils=n.utils||{};const W=n.utils.getDictValue=function(v,e,s){if(v==null)return s;const c=String(e).split(".");let C=v;for(const H of c)if(C==null||(C=C[H],C===void 0))return s;return C};n.utils.csscls=function(v,e){const s=String(v).trim();return s.includes(" ")?s.split(/\s+/).filter(Boolean).map(c=>n.utils.csscls(c,e)).join(" "):s.startsWith(".")?`.${e}${s.slice(1)}`:e+s},n.utils.makecsscls=function(v){return e=>n.utils.csscls(e,v)};const T=n.utils.makecsscls("phpdebugbar-");n.utils.sfDump=function(v){typeof window.Sfdump=="function"&&v.querySelectorAll("pre.sf-dump[id]").forEach(e=>{window.Sfdump(e.id,{maxDepth:0})})},n.utils.schedule=function(v){return window.requestIdleCallback?window.requestIdleCallback(v,{timeout:1e3}):setTimeout(v,0)};class m{get tagName(){return"div"}constructor(e={}){this._attributes=ht({},this.defaults),this._boundAttributes={},this.el=document.createElement(this.tagName),this.className&&this.el.classList.add(...this.className.split(" ")),this.initialize(e),this.render()}initialize(e){this.set(e)}render(){}set(e,s){const c=typeof e=="string"?{[e]:s}:e,C=[];for(const H in c)if(s=c[H],this._attributes[H]=s,this._boundAttributes[H])for(const w of this._boundAttributes[H])C.includes(w)||(w.call(this,s),C.push(w))}has(e){return this._attributes[e]!==void 0&&this._attributes[e]!==null}get(e){return this._attributes[e]}bindAttr(e,s){if(Array.isArray(e)){for(const c of e)this.bindAttr(c,s);return}if(this._boundAttributes[e]||(this._boundAttributes[e]=[]),s instanceof HTMLElement){const c=s;s=C=>c.textContent=C||""}this._boundAttributes[e].push(s),this.has(e)&&s.call(this,this._attributes[e])}static extend(e){const s=this;class c extends s{}for(const C in e){const H=Object.getOwnPropertyDescriptor(e,C);H&&Object.defineProperty(c.prototype,C,H)}return Object.assign(c,s),c.__super__=s.prototype,c}}m.prototype.defaults={},n.Widget=m;class l extends m{get className(){return T("panel")}render(){this.active=!1,this.tab=document.createElement("a"),this.tab.classList.add(T("tab")),this.icon=document.createElement("i"),this.tab.append(this.icon),this.bindAttr("icon",function(s){s?this.icon.className=`phpdebugbar-icon phpdebugbar-icon-${s}`:this.icon.className=""});const e=document.createElement("span");e.classList.add(T("text")),this.tab.append(e),this.bindAttr("title",e),this.badge=document.createElement("span"),this.badge.classList.add(T("badge")),this.tab.append(this.badge),this.bindAttr("badge",function(s){s!==null?(this.badge.textContent=s,this.badge.classList.add(T("visible"))):this.badge.classList.remove(T("visible"))}),this.bindAttr("widget",function(s){this.el.innerHTML="",this.el.append(s.el)}),this.widgetRendered=!1,this.bindAttr("data",function(s){this.has("widget")&&(this.tab.setAttribute("data-empty",Object.keys(s).length===0||s.count===0),!this.widgetRendered&&this.active&&s!=null?this.renderWidgetData():this.widgetRendered=!1)})}renderWidgetData(){const e=this.get("data"),s=this.get("widget");e==null||!s||(s.set("data",e),n.utils.schedule(()=>{n.utils.sfDump(s.el)}),this.widgetRendered=!0)}show(){const e=T("active");this.tab.classList.add(e),this.tab.hidden=!1,this.el.classList.add(e),this.el.hidden=!1,this.active=!0,this.widgetRendered||this.renderWidgetData()}hide(){const e=T("active");this.tab.classList.remove(e),this.el.classList.remove(e),this.el.hidden=!0,this.active=!1}}class I extends m{get tagName(){return"span"}get className(){return T("indicator")}render(){this.icon=document.createElement("i"),this.el.append(this.icon),this.bindAttr("icon",function(s){s?this.icon.className=`phpdebugbar-icon phpdebugbar-icon-${s}`:this.icon.className=""}),this.bindAttr("link",function(s){s?(this.el.addEventListener("click",()=>{this.get("debugbar").showTab(s)}),this.el.style.cursor="pointer"):this.el.style.cursor=""});const e=document.createElement("span");e.classList.add(T("text")),this.el.append(e),this.bindAttr(["title","data"],e),this.tooltip=document.createElement("span"),this.tooltip.classList.add(T("tooltip"),T("disabled")),this.el.append(this.tooltip),this.bindAttr("tooltip",function(s){if(s)if(Array.isArray(s)||typeof s=="object"){const c=document.createElement("dl");for(const[C,H]of Object.entries(s)){const w=document.createElement("dt");w.textContent=C,c.append(w);const h=document.createElement("dd");h.textContent=H,c.append(h)}this.tooltip.innerHTML="",this.tooltip.append(c),this.tooltip.classList.remove(T("disabled"))}else this.tooltip.textContent=s,this.tooltip.classList.remove(T("disabled"));else this.tooltip.classList.add(T("disabled"))})}}class a extends m{get tagName(){return"form"}get className(){return T("settings")}initialize(e){this.set(e);const s=this.get("debugbar");this.settings=JSON.parse(localStorage.getItem("phpdebugbar-settings"))||{};for(const c in s.options)c in this.settings&&(s.options[c]=this.settings[c]),c==="theme"?s.setTheme(s.options[c]):s.el.setAttribute(`data-${c}`,s.options[c])}clearSettings(){const e=this.get("debugbar");if(localStorage.removeItem("phpdebugbar-settings"),localStorage.removeItem("phpdebugbar-ajaxhandler-autoshow"),this.settings={},e.options=ht({},e.defaultOptions),e.ajaxHandler){const s=e.ajaxHandler.defaultAutoShow;e.ajaxHandler.setAutoShow(s),this.set("autoshow",s),e.controls.__datasets&&e.controls.__datasets.get("widget").set("autoshow",this.autoshow.checked)}this.initialize(e.options)}storeSetting(e,s){this.settings[e]=s;const c=this.get("debugbar");c.options[e]=s,e!=="theme"&&c.el.setAttribute(`data-${e}`,s),localStorage.setItem("phpdebugbar-settings",JSON.stringify(this.settings))}render(){this.el.innerHTML="";const e=this.get("debugbar"),s=this,c={},C=document.createElement("select");C.innerHTML='<option value="auto">Auto (System preference)</option><option value="light">Light</option><option value="dark">Dark</option>',C.value=e.options.theme,C.addEventListener("change",function(){s.storeSetting("theme",this.value),e.setTheme(this.value)}),c.Theme=C;const H=document.createElement("select");H.innerHTML='<option value="bottomLeft">Bottom Left</option><option value="bottomRight">Bottom Right</option><option value="topLeft">Top Left</option><option value="topRight">Top Right</option>',H.value=e.options.openBtnPosition,H.addEventListener("change",function(){s.storeSetting("openBtnPosition",this.value),this.value==="topLeft"||this.value==="topRight"?s.storeSetting("toolbarPosition","top"):s.storeSetting("toolbarPosition","bottom"),s.get("debugbar").recomputeBottomOffset()}),c["Toolbar Position"]=H,this.hideEmptyTabs=document.createElement("input"),this.hideEmptyTabs.type="checkbox",this.hideEmptyTabs.checked=e.options.hideEmptyTabs,this.hideEmptyTabs.addEventListener("click",function(){s.storeSetting("hideEmptyTabs",this.checked),s.get("debugbar").respCSSSize=0,s.get("debugbar").resize()});const w=document.createElement("label");w.append(this.hideEmptyTabs,"Hide empty tabs until they have data"),c["Hide Empty Tabs"]=w,this.autoshow=document.createElement("input"),this.autoshow.type="checkbox",this.autoshow.checked=e.ajaxHandler&&e.ajaxHandler.autoShow,this.autoshow.addEventListener("click",function(){e.ajaxHandler&&e.ajaxHandler.setAutoShow(this.checked),e.controls.__datasets&&e.controls.__datasets.get("widget").set("autoshow",this.checked),e.datasetSwitcherWidget&&e.datasetSwitcherWidget.set("autoshow",this.checked)}),this.bindAttr("autoshow",function(){this.autoshow.checked=this.get("autoshow");const A=this.autoshow.closest(`.${T("form-row")}`);A&&(A.style.display="")});const h=document.createElement("label");h.append(this.autoshow,"Automatically show new incoming Ajax requests"),c.Autoshow=h;const b=document.createElement("button");b.textContent="Reset settings",b.addEventListener("click",A=>{A.preventDefault(),s.clearSettings(),s.render()}),c["Reset to defaults"]=b;for(const[A,d]of Object.entries(c)){const _=document.createElement("div");_.classList.add(T("form-row"));const x=document.createElement("div");x.classList.add(T("form-label")),x.textContent=A,_.append(x);const N=document.createElement("div");N.classList.add(T("form-input")),d instanceof HTMLElement?N.append(d):N.innerHTML=d,_.append(N),s.el.append(_)}e.ajaxHandler||(this.autoshow.closest(`.${T("form-row")}`).style.display="none")}}class S{constructor(e){this.debugbar=e}format(e,s,c,C){if(c=c?` ${c}`:"",C=C||Object.keys(this.debugbar.datasets).length,s.__meta===void 0)return`#${C}${c}`;const H=s.__meta.uri.split("/");let w=H.pop();w||(w=`${H.pop()||""}/`),H.length&&!Number.isNaN(w)&&(w=`${H.pop()}/${w}`);const h=150;return w.length>h&&(w=`${w.substr(0,h)}...`),`#${C} ${w}${c} (${s.__meta.datetime.split(" ")[1]})`}}n.DatasetTitleFormater=S;class j extends m{get className(){return`phpdebugbar ${T("minimized")}`}initialize(e={}){this.options=Object.assign({bodyBottomInset:!0,theme:"auto",toolbarPosition:"bottom",openBtnPosition:"bottomLeft",hideEmptyTabs:!1},e),this.defaultOptions=ht({},this.options),this.controls={},this.dataMap={},this.datasets={},this.firstTabName=null,this.activePanelName=null,this.activeDatasetId=null,this.pendingDataSetId=null,this.datesetTitleFormater=new S(this);const s=window.getComputedStyle(document.body);this.bodyPaddingBottomHeight=Number.parseInt(s.paddingBottom),this.bodyPaddingTopHeight=Number.parseInt(s.paddingTop);try{this.isIframe=window.self!==window.top&&window.top.PhpDebugBar&&window.top.PhpDebugBar}catch(c){this.isIframe=!1}this.registerResizeHandler(),this.registerMediaListener(),this.settingsControl=new n.DebugBar.Tab({icon:"adjustments-horizontal",title:"Settings",widget:new a({debugbar:this})})}registerResizeHandler(){if(this.resize.bind===void 0||this.isIframe)return;const e=this.resize.bind(this);this.respCSSSize=0,window.addEventListener("resize",e),setTimeout(e,20)}registerMediaListener(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{this.options.theme==="auto"&&this.setTheme("auto")})}setTheme(e){this.options.theme=e,e==="auto"&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),this.el.setAttribute("data-theme",e),this.openHandler&&this.openHandler.el.setAttribute("data-theme",e),this.datasetSwitcherWidget&&this.datasetSwitcherWidget.panel&&this.datasetSwitcherWidget.panel.setAttribute("data-theme",e)}resize(){if(this.isIframe)return;let e=this.respCSSSize;if(this.respCSSSize===0){const w=Array.from(this.header.children).filter(h=>h.offsetParent!==null);for(const h of w){const b=window.getComputedStyle(h);e+=h.offsetWidth+Number.parseFloat(b.marginLeft)+Number.parseFloat(b.marginRight)}}const s=this.header.offsetWidth,c=T("mini-design"),C=this.header.classList.contains(c);s<=e&&!C?(this.respCSSSize=e,this.header.classList.add(c)):e<s&&C&&(this.respCSSSize=0,this.header.classList.remove(c));const H=this.body.clientHeight||Number.parseInt(localStorage.getItem("phpdebugbar-height"),10)||300;this.setHeight(H)}render(){this.isIframe&&(this.el.hidden=!0);const e=this;document.body.append(this.el),this.dragCapture=document.createElement("div"),this.dragCapture.classList.add(T("drag-capture")),this.el.append(this.dragCapture),this.resizeHandle=document.createElement("div"),this.resizeHandle.classList.add(T("resize-handle")),this.resizeHandle.classList.add(T("resize-handle-top")),this.el.append(this.resizeHandle),this.header=document.createElement("div"),this.header.classList.add(T("header")),this.el.append(this.header),this.headerBtn=document.createElement("a"),this.headerBtn.classList.add(T("restore-btn")),this.header.append(this.headerBtn),this.headerBtn.addEventListener("click",()=>{e.close()}),this.headerLeft=document.createElement("div"),this.headerLeft.classList.add(T("header-left")),this.header.append(this.headerLeft),this.headerRight=document.createElement("div"),this.headerRight.classList.add(T("header-right")),this.header.append(this.headerRight),this.body=document.createElement("div"),this.body.classList.add(T("body")),this.el.append(this.body),this.recomputeBottomOffset(),this.resizeHandleBottom=document.createElement("div"),this.resizeHandleBottom.classList.add(T("resize-handle")),this.resizeHandleBottom.classList.add(T("resize-handle-bottom")),this.el.append(this.resizeHandleBottom);let s,c;const C=h=>{const b=c+(s-h.pageY);e.setHeight(b)},H=h=>{const b=c-(s-h.pageY);e.setHeight(b)},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",w),e.dragCapture.style.display="none"};this.resizeHandle.addEventListener("mousedown",h=>{c=e.body.offsetHeight,s=h.pageY,document.addEventListener("mousemove",C),document.addEventListener("mouseup",w),e.dragCapture.style.display="",h.preventDefault()}),this.resizeHandleBottom.addEventListener("mousedown",h=>{c=e.body.offsetHeight,s=h.pageY,document.addEventListener("mousemove",H),document.addEventListener("mouseup",w),e.dragCapture.style.display="",h.preventDefault()}),this.closebtn=document.createElement("a"),this.closebtn.classList.add(T("close-btn")),this.headerRight.append(this.closebtn),this.closebtn.addEventListener("click",()=>{e.close()}),this.minimizebtn=document.createElement("a"),this.minimizebtn.classList.add(T("minimize-btn")),this.minimizebtn.hidden=!this.isMinimized(),this.headerRight.append(this.minimizebtn),this.minimizebtn.addEventListener("click",()=>{e.minimize()}),this.maximizebtn=document.createElement("a"),this.maximizebtn.classList.add(T("maximize-btn")),this.maximizebtn.hidden=this.isMinimized(),this.headerRight.append(this.maximizebtn),this.maximizebtn.addEventListener("click",()=>{e.restore()}),this.restorebtn=document.createElement("a"),this.restorebtn.classList.add(T("restore-btn")),this.restorebtn.hidden=!0,this.el.append(this.restorebtn),this.restorebtn.addEventListener("click",()=>{e.restore()}),this.openbtn=document.createElement("a"),this.openbtn.classList.add(T("open-btn")),this.openbtn.hidden=!0,this.headerRight.append(this.openbtn),this.openbtn.addEventListener("click",()=>{e.openHandler.show((h,b)=>{e.addDataSet(b,h,"(opened)")})}),this.datasetsSelectSpan=document.createElement("span"),this.datasetsSelectSpan.classList.add(T("datasets-switcher")),this.datasetsSelectSpan.setAttribute("name","datasets-switcher"),this.datasetsSelect=document.createElement("select"),this.datasetsSelect.hidden=!0,this.datasetsSelectSpan.append(this.datasetsSelect),this.headerRight.append(this.datasetsSelectSpan),this.datasetsSelect.addEventListener("change",function(){e.showDataSet(this.value)}),this.controls.__settings=this.settingsControl,this.settingsControl.tab.classList.add(T("tab-settings")),this.settingsControl.tab.setAttribute("data-collector","__settings"),this.settingsControl.el.setAttribute("data-collector","__settings"),this.settingsControl.el.hidden=!0,this.maximizebtn.after(this.settingsControl.tab),this.settingsControl.tab.hidden=!1,this.settingsControl.tab.addEventListener("click",()=>{!this.isMinimized()&&this.activePanelName==="__settings"?this.minimize():(this.showTab("__settings"),this.settingsControl.get("widget").render())}),this.body.append(this.settingsControl.el)}setHeight(e){const c=window.innerHeight-this.header.offsetHeight-10;e=Math.min(e,c),e=Math.max(e,40),this.body.style.height=`${e}px`,localStorage.setItem("phpdebugbar-height",e),this.recomputeBottomOffset()}restoreState(){if(this.isIframe)return;const e=localStorage.getItem("phpdebugbar-height");this.setHeight(Number.parseInt(e)||this.body.offsetHeight);const s=localStorage.getItem("phpdebugbar-open");if(s&&s==="0")this.close();else{const c=localStorage.getItem("phpdebugbar-visible");if(c&&c==="1"){const C=localStorage.getItem("phpdebugbar-tab");this.isTab(C)?this.showTab(C):this.showTab()}else c==="0"&&this.minimize()}}createTab(e,s,c){const C=new l({title:c||e.replace(/[_-]/g," ").charAt(0).toUpperCase()+e.slice(1),widget:s});return this.addTab(e,C)}addTab(e,s){if(this.isControl(e))throw new Error(`${e} already exists`);const c=this;return this.headerLeft.append(s.tab),s.tab.addEventListener("click",()=>{!c.isMinimized()&&c.activePanelName===e?c.minimize():(c.restore(),c.showTab(e))}),s.tab.setAttribute("data-empty",!0),s.tab.setAttribute("data-collector",e),s.el.setAttribute("data-collector",e),this.body.append(s.el),this.controls[e]=s,this.firstTabName===null&&(this.firstTabName=e),s}createIndicator(e,s,c,C){const H=new I({icon:s,tooltip:c});return this.addIndicator(e,H,C)}addIndicator(e,s,c){if(this.isControl(e))throw new Error(`${e} already exists`);return s.set("debugbar",this),c==="left"?this.headerLeft.prepend(s.el):this.headerRight.append(s.el),this.controls[e]=s,s}getControl(e){if(this.isControl(e))return this.controls[e]}isControl(e){return this.controls[e]!==void 0}isTab(e){return this.isControl(e)&&this.controls[e]instanceof l}isIndicator(e){return this.isControl(e)&&this.controls[e]instanceof I}reset(){this.minimize();for(const[e,s]of Object.entries(this.controls))this.isTab(e)&&s.tab.remove(),s.el.remove();this.controls={}}showTab(e){if(e||(this.activePanelName?e=this.activePanelName:e=this.firstTabName),!this.isTab(e))throw new Error(`Unknown tab '${e}'`);this.body.hidden=!1,this.recomputeBottomOffset();for(const[s,c]of Object.entries(this.controls))c instanceof l&&(s===e?c.show():c.hide());this.activePanelName=e,this.el.classList.remove(T("minimized")),localStorage.setItem("phpdebugbar-visible","1"),localStorage.setItem("phpdebugbar-tab",e),this.maximize()}minimize(){const e=T("active"),s=this.header.querySelectorAll(`:scope > div > .${e}`);for(const c of s)c.classList.remove(e);this.body.hidden=!0,this.minimizebtn.hidden=!0,this.maximizebtn.hidden=!1,this.recomputeBottomOffset(),localStorage.setItem("phpdebugbar-visible","0"),this.el.classList.add(T("minimized")),this.resize()}maximize(){this.header.hidden=!1,this.restorebtn.hidden=!0,this.body.hidden=!1,this.minimizebtn.hidden=!1,this.maximizebtn.hidden=!0,this.recomputeBottomOffset(),localStorage.setItem("phpdebugbar-visible","1"),localStorage.setItem("phpdebugbar-open","1"),this.el.classList.remove(T("minimized")),this.el.classList.remove(T("closed")),this.resize()}isMinimized(){return this.el.classList.contains(T("minimized"))}close(){this.header.hidden=!0,this.body.hidden=!0,this.restorebtn.hidden=!1,localStorage.setItem("phpdebugbar-open","0"),this.el.classList.add(T("closed")),this.recomputeBottomOffset()}isClosed(){return this.el.classList.contains(T("closed"))}restore(){const e=localStorage.getItem("phpdebugbar-tab");this.pendingDataSetId&&(this.dataChangeHandler(this.datasets[this.pendingDataSetId]),this.pendingDataSetId=null),this.isTab(e)?this.showTab(e):this.showTab()}recomputeBottomOffset(){if(this.options.bodyBottomInset){if(this.isClosed()){document.body.style.paddingBottom=this.bodyPaddingBottomHeight?`${this.bodyPaddingBottomHeight}px`:"",document.body.style.paddingTop=this.bodyPaddingTopHeight?`${this.bodyPaddingTopHeight}px`:"";return}if(this.options.toolbarPosition==="top"){const e=this.el.offsetHeight+(this.bodyPaddingTopHeight||0);document.body.style.paddingTop=`${e}px`,document.body.style.paddingBottom=this.bodyPaddingBottomHeight?`${this.bodyPaddingBottomHeight}px`:""}else{const e=this.el.offsetHeight+(this.bodyPaddingBottomHeight||0);document.body.style.paddingBottom=`${e}px`,document.body.style.paddingTop=this.bodyPaddingTopHeight?`${this.bodyPaddingTopHeight}px`:""}}}setDataMap(e){this.dataMap=e}addDataMap(e){Object.assign(this.dataMap,e)}setData(e){return this.datasets={},this.addDataSet(e)}addDataSet(e,s,c,C){if(!e||!e.__meta)return;if(this.isIframe&&window.top.PhpDebugBar&&window.top.PhpDebugBar.instance){window.top.PhpDebugBar.instance.addDataSet(e,s,`(iframe)${c||""}`,C);return}const H=Object.keys(this.datasets).length+1;s=s||H,e.__meta.nb=H,e.__meta.suffix=c,this.datasets[s]=e;const w=this.datesetTitleFormater.format(s,this.datasets[s],c,H);if(this.datasetSwitcherWidget)this.datasetSwitcherWidget.set("data",this.datasets);else{const h=document.createElement("option");h.value=s,h.textContent=w,this.datasetsSelect.append(h),this.datasetsSelect.hidden=!1}return(C===void 0||C)&&this.showDataSet(s),this.resize(),s}loadDataSet(e,s,c,C){if(!this.openHandler)throw new Error("loadDataSet() needs an open handler");const H=this;this.openHandler.load(e,w=>{H.addDataSet(w,e,s,C),H.resize(),c&&c(w)})}getDataSet(e){return this.datasets[e]}showDataSet(e){this.activeDatasetId=e,this.isClosed()?this.pendingDataSetId=e:(this.dataChangeHandler(this.datasets[e]),this.pendingDataSetId=null),this.datasetSwitcherWidget?this.datasetSwitcherWidget.set("activeId",e):this.datasetsSelect.value=e}dataChangeHandler(e){for(const[s,c]of Object.entries(this.dataMap)){const C=W(e,c[0],c[1]);if(s.includes(":")){const H=s.split(":");this.getControl(H[0]).set(H[1],C)}else this.getControl(s).set("data",C)}this.isMinimized()||this.showTab(),this.resize()}setOpenHandler(e){this.openHandler=e,this.openHandler.el.setAttribute("data-theme",this.el.getAttribute("data-theme")),this.openbtn.hidden=e==null}getOpenHandler(){return this.openHandler}enableAjaxHandlerTab(){this.datasetsSelectSpan&&(this.datasetsSelectSpan.hidden=!0),this.datasetSwitcherWidget=new n.Widgets.DatasetWidget({debugbar:this}),this.openbtn.after(this.datasetSwitcherWidget.el)}}n.DebugBar=j,j.Tab=l,j.Indicator=I;class Y{constructor(e,s,c){this.debugbar=e,this.headerName=s||"phpdebugbar",this.autoShow=c===void 0?!0:c,this.defaultAutoShow=this.autoShow,localStorage.getItem("phpdebugbar-ajaxhandler-autoshow")!==null&&(this.autoShow=localStorage.getItem("phpdebugbar-ajaxhandler-autoshow")==="1"),e.controls.__settings&&e.controls.__settings.get("widget").set("autoshow",this.autoShow)}handle(e){const s=this.getHeader(e,`${this.headerName}-stack`);return s&&JSON.parse(s).forEach(C=>{this.debugbar.loadDataSet(C," (stacked)",null,!1)}),!!(this.loadFromId(e)||this.loadFromData(e))}getHeader(e,s){return e instanceof Response?e.headers.get(s):e instanceof XMLHttpRequest?e.getResponseHeader(s):null}setAutoShow(e){this.autoShow=e,localStorage.setItem("phpdebugbar-ajaxhandler-autoshow",e?"1":"0")}loadFromId(e){const s=this.extractIdFromHeaders(e);return s&&this.debugbar.openHandler?(this.debugbar.loadDataSet(s,"(ajax)",void 0,this.autoShow),!0):!1}extractIdFromHeaders(e){return this.getHeader(e,`${this.headerName}-id`)}loadFromData(e){const s=this.extractDataFromHeaders(e);if(!s)return!1;const c=this.parseHeaders(s);if(c.error)throw new Error(`Error loading debugbar data: ${c.error}`);return c.data&&this.debugbar.addDataSet(c.data,c.id,"(ajax)",this.autoShow),!0}extractDataFromHeaders(e){let s=this.getHeader(e,this.headerName);if(s){for(let c=1;;c++){const C=this.getHeader(e,`${this.headerName}-${c}`);if(!C)break;s+=C}return decodeURIComponent(s)}}parseHeaders(e){return JSON.parse(e)}bindToFetch(){const e=this,s=window.fetch.__debugbar_original||window.fetch,c=s.bind(window);function C(...H){var h;const w=c(...H);return(h=w==null?void 0:w.then)==null||h.call(w,b=>e.handle(b)).catch(()=>{}),w}C.__debugbar_wrapped=!0,C.__debugbar_original=s,window.fetch=C}bindToXHR(){const e=this,s=XMLHttpRequest.prototype,c=(s.open||{}).__debugbar_original||s.open;if(typeof c!="function")return;function C(H,w,h,b,A){return this.__debugbar_listener_attached||(this.__debugbar_listener_attached=!0,this.addEventListener("readystatechange",()=>{this.readyState===4&&e.handle(this)})),c.call(this,H,w,h,b,A)}C.__debugbar_wrapped=!0,C.__debugbar_original=c,s.open=C}}n.AjaxHandler=Y})();(function(){PhpDebugBar.Widgets={};const n=PhpDebugBar.utils.makecsscls("phpdebugbar-widgets-"),W=PhpDebugBar.Widgets.htmlize=function(w){return w.replace(/\n/g,"<br>").replace(/\s/g,"&nbsp;")},T=PhpDebugBar.Widgets.renderValue=function(w,h){return typeof w!="string"?h?W(JSON.stringify(w,void 0,2)):JSON.stringify(w):w},m=PhpDebugBar.Widgets.highlight=function(w,h){if(typeof phpdebugbar_hljs=="undefined")return W(w);const b=phpdebugbar_hljs;return h&&b.getLanguage(h)?b.highlight(w,{language:h}).value:b.highlightAuto(w).value},l=PhpDebugBar.Widgets.createCodeBlock=function(w,h,b,A){const d=document.createElement("pre");d.classList.add(n("code-block"));const _=document.createElement("code");if(_.innerHTML=m(`${w}
`,h),d.append(_),!Number.isNaN(Number.parseFloat(b))){const x=w.split(`
`).length,N=document.createElement("ul");d.prepend(N);const r=Array.from(d.children);for(const p of r)p.classList.add(n("numbered-code"));for(let p=b;p<b+x;p++){const E=document.createElement("li");if(E.textContent=p,N.append(E),A===p){E.classList.add(n("highlighted-line"));const k=document.createElement("span");k.innerHTML="&nbsp;",E.append(k)}}}return d},{getDictValue:I}=PhpDebugBar.utils;class a extends PhpDebugBar.Widget{get tagName(){return"ul"}get className(){return n("list")}initialize(h){h.itemRenderer||(h.itemRenderer=this.itemRenderer),this.set(h)}render(){this.bindAttr(["itemRenderer","data"],function(){if(this.el.innerHTML="",!this.has("data"))return;const h=this.get("data");for(let b=0;b<h.length;b++){const A=document.createElement("li");A.classList.add(n("list-item")),this.el.append(A),this.get("itemRenderer")(A,h[b])}})}itemRenderer(h,b){h.innerHTML=T(b)}}PhpDebugBar.Widgets.ListWidget=a;class S extends a{get tagName(){return"dl"}get className(){return n("kvlist")}render(){this.bindAttr(["itemRenderer","data"],function(){if(this.el.innerHTML="",!!this.has("data"))for(const[h,b]of Object.entries(this.get("data"))){const A=document.createElement("dt");A.classList.add(n("key")),this.el.append(A);const d=document.createElement("dd");d.classList.add(n("value")),this.el.append(d),this.get("itemRenderer")(A,d,h,b)}})}itemRenderer(h,b,A,d){h.textContent=A,b.innerHTML=W(d)}}PhpDebugBar.Widgets.KVListWidget=S;class j extends S{get className(){return n("kvlist varlist")}itemRenderer(h,b,A,d){const _=document.createElement("span");_.setAttribute("title",A),_.textContent=A,h.append(_);let x=d&&d.value||d;x&&x.length>100&&(x=`${x.substr(0,100)}...`);let N=null;b.textContent=x,b.addEventListener("click",()=>{if(window.getSelection().type==="Range")return"";b.classList.contains(n("pretty"))?(b.textContent=x,b.classList.remove(n("pretty"))):(N=N||l(d),b.classList.add(n("pretty")),b.innerHTML="",b.append(N))})}}PhpDebugBar.Widgets.VariableListWidget=j;class Y extends S{get className(){return n("kvlist htmlvarlist")}itemRenderer(h,b,A,d){const _=document.createElement("i");_.innerHTML=A!=null?A:"";const x=document.createElement("span");if(x.setAttribute("title",_.textContent),x.innerHTML=A!=null?A:"",h.append(x),b.innerHTML=d&&d.value||d,d&&d.xdebug_link){const N=document.createElement("span");if(N.classList.add(n("filename")),N.textContent=d.xdebug_link.filename+(d.xdebug_link.line?`#${d.xdebug_link.line}`:""),d.xdebug_link){const r=document.createElement("a");r.classList.add(n("editor-link")),d.xdebug_link.ajax?(r.setAttribute("title",d.xdebug_link.url),r.addEventListener("click",()=>{fetch(d.xdebug_link.url)})):r.setAttribute("href",d.xdebug_link.url),N.append(r)}b.append(N)}}}PhpDebugBar.Widgets.HtmlVariableListWidget=Y;class v extends PhpDebugBar.Widget{get tagName(){return"div"}get className(){return n("tablevarlist")}render(){this.bindAttr("data",function(h){var p,E,k;if(this.el.innerHTML="",!this.has("data"))return;this.table=document.createElement("table"),this.table.classList.add(n("tablevar")),this.el.append(this.table);const b=document.createElement("tr");b.classList.add(n("header"));const A=document.createElement("td");b.append(A),this.table.append(b);let d=h.key_map||{value:"Value"};Array.isArray(d)&&(d=Object.fromEntries(d.map(M=>[M,null])));for(const[M,R]of Object.entries(d)){const i=document.createElement("td");if(i.textContent=R!=null?R:M,b.append(i),h.badges&&h.badges[M]){const D=document.createElement("span");D.textContent=h.badges[M],D.classList.add(n("badge")),i.append(D)}}const _=this;if(!h.data)return;let x=!1;for(const[M,R]of Object.entries(h.data)){const i=document.createElement("tr");i.classList.add(n("item")),_.table.append(i);const D=document.createElement("td");if(D.classList.add(n("key")),D.textContent=M,i.append(D),typeof R!="object"||R===null){const P=document.createElement("td");P.classList.add(n("value")),P.textContent=R!=null?R:"",i.append(P);continue}for(const P of Object.keys(d)){const g=document.createElement("td");g.classList.add(n("value")),g.textContent=(p=R[P])!=null?p:"",i.append(g)}if(R.xdebug_link){const P=document.createElement("td");P.classList.add(n("editor")),i.append(P);const g=document.createElement("span");g.classList.add(n("filename")),g.textContent=R.xdebug_link.filename+(R.xdebug_link.line?`#${R.xdebug_link.line}`:""),P.append(g);const o=document.createElement("a");o.classList.add(n("editor-link")),R.xdebug_link.ajax?(o.setAttribute("title",R.xdebug_link.url),o.addEventListener("click",()=>{fetch(R.xdebug_link.url)})):o.setAttribute("href",R.xdebug_link.url),g.append(o),x||(x=!0,b.append(document.createElement("td")))}}if(!h.summary)return;const N=document.createElement("tr");N.classList.add(n("summary")),_.table.append(N);const r=document.createElement("td");if(r.classList.add(n("key")),N.append(r),typeof h.summary!="object"||h.summary===null){const M=document.createElement("td");M.classList.add(n("value")),M.textContent=(E=h.summary)!=null?E:"",N.append(M)}else for(const M of Object.keys(d)){const R=document.createElement("td");R.classList.add(n("value")),R.textContent=(k=h.summary[M])!=null?k:"",N.append(R)}x&&N.append(document.createElement("td"))})}}PhpDebugBar.Widgets.TableVariableListWidget=v;class e extends PhpDebugBar.Widget{get tagName(){return"iframe"}get className(){return n("iframe")}render(){this.el.setAttribute("seamless","seamless"),this.el.setAttribute("border","0"),this.el.setAttribute("width","100%"),this.el.setAttribute("height","100%"),this.bindAttr("data",function(h){this.el.setAttribute("src",h)})}}PhpDebugBar.Widgets.IFrameWidget=e;class s extends PhpDebugBar.Widget{get className(){return n("messages")}render(){const h=this;this.list=new a({itemRenderer(A,d){let _;if(d.message_html)_=document.createElement("span"),_.classList.add(n("value")),_.innerHTML=d.message_html,A.append(_);else{const x=d.message;if(_=document.createElement("span"),_.classList.add(n("value")),_.textContent=x,_.classList.add(n("truncated")),A.append(_),!d.is_string||_.scrollWidth>_.clientWidth){let N=d.message;d.is_string||(N=null),A.style.cursor="pointer",A.addEventListener("click",()=>{if(window.getSelection().type==="Range")return"";_.classList.contains(n("pretty"))?(_.textContent=x,_.classList.remove(n("pretty")),_.classList.add(n("truncated"))):(N=N||l(d.message,"php"),_.classList.add(n("pretty")),_.classList.remove(n("truncated")),_.innerHTML="",_.append(N))})}}if(d.xdebug_link){const x=document.createElement("span");if(x.classList.add(n("filename")),x.textContent=d.xdebug_link.filename+(d.xdebug_link.line?`#${d.xdebug_link.line}`:""),d.xdebug_link){const N=document.createElement("a");N.classList.add(n("editor-link")),d.xdebug_link.ajax?(N.setAttribute("title",d.xdebug_link.url),N.addEventListener("click",()=>{fetch(d.xdebug_link.url)})):N.setAttribute("href",d.xdebug_link.url),x.append(N)}A.prepend(x)}if(d.collector){const x=document.createElement("span");x.classList.add(n("collector")),x.textContent=d.collector,A.prepend(x)}if(d.label){_.classList.add(n(d.label));const x=document.createElement("span");x.classList.add(n("label")),x.textContent=d.label,A.prepend(x)}if(d.context&&Object.keys(d.context).length>0){const x=document.createElement("span");x.setAttribute("title","Context"),x.classList.add(n("context-count")),x.textContent=Object.keys(d.context).length,A.prepend(x);const N=document.createElement("table");N.classList.add(n("params")),N.hidden=!0,N.innerHTML='<tr><th colspan="2">Context</th></tr>';for(const r in d.context)if(typeof d.context[r]!="function"){const p=document.createElement("tr"),E=document.createElement("td");E.classList.add(n("name")),E.textContent=r,p.append(E);const k=document.createElement("td");k.classList.add(n("value")),k.innerHTML=d.context[r],p.append(k),N.append(p)}A.append(N),A.style.cursor="pointer",A.addEventListener("click",r=>{window.getSelection().type==="Range"||r.target.closest(".sf-dump")||(N.hidden=!N.hidden)})}}}),this.el.append(this.list.el),this.toolbar=document.createElement("div"),this.toolbar.classList.add(n("toolbar")),this.toolbar.innerHTML='<i class="phpdebugbar-icon phpdebugbar-icon-search"></i>',this.el.append(this.toolbar);const b=document.createElement("input");b.type="text",b.name="search",b.setAttribute("aria-label","Search"),b.placeholder="Search",b.addEventListener("change",function(){h.set("search",this.value)}),this.toolbar.append(b),this.bindAttr("data",function(A){this.set({excludelabel:[],excludecollector:[],search:""});const d=this.toolbar.querySelectorAll(`.${n("filter")}`);for(const E of d)E.remove();const _=[],x=[],N=this,r=function(E,k){const M=document.createElement("a");M.classList.add(n("filter")),M.classList.add(n(E)),M.textContent=k,M.setAttribute("rel",k),M.addEventListener("click",function(){N.onFilterClick(this,E)}),N.toolbar.append(M)};if(A.forEach(E=>{_.includes(E.label||"none")||_.push(E.label||"none"),x.includes(E.collector||"none")||x.push(E.collector||"none")}),_.length>1&&_.forEach(E=>r("label",E)),x.length===1)return;const p=document.createElement("a");p.classList.add(n("filter")),p.style.visibility="hidden",N.toolbar.append(p),x.forEach(E=>r("collector",E))}),this.bindAttr(["excludelabel","excludecollector","search"],function(){const A=this.get("excludelabel")||[],d=this.get("excludecollector")||[],_=this.get("search");let x=!1;const N=[];_&&_===_.toLowerCase()&&(x=!0),this.get("data").forEach(r=>{const p=x?r.message.toLowerCase():r.message;!A.includes(r.label||void 0)&&!d.includes(r.collector||void 0)&&(!_||p.includes(_))&&N.push(r)}),this.list.set("data",N)})}onFilterClick(h,b){h.classList.toggle(n("excluded"));const A=[],d=`.${n("filter")}.${n("excluded")}.${n(b)}`,_=this.toolbar.querySelectorAll(d);for(const x of _)A.push(x.rel==="none"||!x.rel?void 0:x.rel);this.set(`exclude${b}`,A)}}PhpDebugBar.Widgets.MessagesWidget=s;class c extends PhpDebugBar.Widget{get tagName(){return"ul"}get className(){return n("timeline")}render(){this.bindAttr("data",function(h){const b=function(d){return d<.001?`${(d*1e6).toFixed()}\u03BCs`:d<.1?`${(d*1e3).toFixed(2)}ms`:d<1?`${(d*1e3).toFixed()}ms`:`${d.toFixed(2)}s`},A=function(_){if(_===0||_===null)return"0B";const x=_<0?"-":"",N=Math.abs(_),r=Math.log(N)/Math.log(1024),p=["B","KB","MB","GB","TB"];return x+Math.round(Bt(1024,r-Math.floor(r))*100)/100+p[Math.floor(r)]};if(this.el.innerHTML="",h.measures){let d={};for(let N=0;N<h.measures.length;N++){const r=h.measures[N],p=r.group||r.label;d[p]||(d[p]={count:0,duration:0,memory:0}),d[p].count+=1,d[p].duration+=r.duration,d[p].memory+=r.memory||0;const E=document.createElement("div");E.classList.add(n("measure"));const k=document.createElement("li"),M=(r.relative_start*100/h.duration).toFixed(2),R=Math.min((r.duration*100/h.duration).toFixed(2),100-M),i=document.createElement("span");i.classList.add(n("value")),i.style.left=`${M}%`,i.style.width=`${R}%`,E.append(i);const D=document.createElement("span");if(D.classList.add(n("label")),D.textContent=r.label.replace(/\s+/g," ")+(r.duration?` (${r.duration_str}${r.memory?`/${r.memory_str}`:""})`:""),E.append(D),r.collector){const P=document.createElement("span");P.classList.add(n("collector")),P.textContent=r.collector,E.append(P)}if(k.append(E),this.el.append(k),r.params&&Object.keys(r.params).length>0){const P=document.createElement("table");P.classList.add(n("params")),P.hidden=!0,P.innerHTML='<tr><th colspan="2">Params</th></tr>';for(const g in r.params)if(typeof r.params[g]!="function"){const o=document.createElement("tr");o.innerHTML=`<td class="${n("name")}">${g}</td><td class="${n("value")}"><pre><code>${r.params[g]}</code></pre></td>`,P.append(o)}k.append(P),k.style.cursor="pointer",k.addEventListener("click",function(){if(window.getSelection().type==="Range"||event.target.closest(".sf-dump"))return"";const g=this.querySelector("table");g.hidden=!g.hidden}),k.addEventListener("click",g=>{g.target.closest(".sf-dump")&&g.stopPropagation()})}}d=Object.entries(d).map(([N,r])=>({label:N,data:r})).sort((N,r)=>r.data.duration-N.data.duration);const _=document.createElement("table");_.classList.add(n("params"));for(const N of d){const r=Math.min((N.data.duration*100/h.duration).toFixed(2),100),p=document.createElement("i");p.textContent=N.label.replace(/\s+/g," ");const E=p.innerHTML,k=document.createElement("tr");k.innerHTML=`<td class="${n("name")}">${N.data.count} x ${E} (${r}%)</td><td class="${n("value")}"><div class="${n("measure")}"><span class="${n("value")}"></span><span class="${n("label")}">${b(N.data.duration)}${N.data.memory?`/${A(N.data.memory)}`:""}</span></div></td>`,_.append(k);const M=k.querySelector(`span.${n("value")}`);M.style.width=`${r}%`}const x=document.createElement("li");x.append(_),this.el.append(x)}})}}PhpDebugBar.Widgets.TimelineWidget=c;class C extends PhpDebugBar.Widget{get className(){return n("exceptions")}render(){this.list=new a({itemRenderer(h,b){const A=document.createElement("span");if(A.classList.add(n("message")),A.textContent=b.message,b.count>1){const d=document.createElement("span");d.classList.add(n("badge")),d.textContent=`${b.count}x`,A.prepend(d)}if(h.append(A),b.file){const d=document.createElement("span");if(d.classList.add(n("filename")),d.textContent=`${b.file}#${b.line}`,b.xdebug_link){const _=document.createElement("a");_.classList.add(n("editor-link")),b.xdebug_link.ajax?(_.setAttribute("title",b.xdebug_link.url),_.addEventListener("click",()=>{fetch(b.xdebug_link.url)})):_.setAttribute("href",b.xdebug_link.url),d.append(_)}h.append(d)}if(b.type){const d=document.createElement("span");d.classList.add(n("type")),d.textContent=b.type,h.append(d)}if(b.surrounding_lines){const d=b.line-3<=0?1:b.line-3,_=l(b.surrounding_lines.join(""),"php",d,b.line);_.classList.add(n("file")),_.hidden=!0,h.append(_),h.addEventListener("click",x=>{window.getSelection().type==="Range"||x.target.closest(".sf-dump")||(_.hidden=!_.hidden)})}if(b.stack_trace_html){const d=document.createElement("span");d.classList.add(n("filename")),d.innerHTML=b.stack_trace_html;const _=d.querySelectorAll('samp[data-depth="1"]');for(const x of _){x.classList.remove("sf-dump-expanded"),x.classList.add("sf-dump-compact");const N=x.parentElement.querySelector(":scope > .sf-dump-note");N&&(N.innerHTML=`${N.innerHTML.replace(/^array:/,'<span class="sf-dump-key">Stack Trace:</span> ')} files`)}h.append(d)}else b.stack_trace&&b.stack_trace.split(`
`).forEach(d=>{const _=document.createElement("div"),x=document.createElement("span");x.classList.add(n("filename")),x.textContent=d,_.append(x),h.append(_)})}}),this.el.append(this.list.el),this.bindAttr("data",function(h){if(this.list.set("data",h),h.length===1){const b=this.list.el.children[0];if(b){const A=b.querySelector(`.${n("file")}`);A&&(A.hidden=!1)}}})}}PhpDebugBar.Widgets.ExceptionsWidget=C;class H extends PhpDebugBar.Widget{get className(){return n("datasets-switcher-widget")}initialize(h){this.set(h);const b=this,A=this.get("debugbar");this.badge=document.createElement("div"),this.badge.classList.add(n("datasets-badge")),this.badge.hidden=!0,this.badgeCount=document.createElement("span"),this.badgeCount.classList.add(n("datasets-badge-count")),this.badge.append(this.badgeCount),this.badgeUrl=document.createElement("span"),this.badgeUrl.classList.add(n("datasets-badge-url")),this.badge.append(this.badgeUrl),this.panel=document.createElement("div"),this.panel.classList.add(n("datasets-panel")),this.panel.hidden=!0,A.el&&this.panel.setAttribute("data-theme",A.el.getAttribute("data-theme"));const d=document.createElement("div");d.classList.add(n("datasets-panel-toolbar"));const _=document.createElement("label");_.classList.add(n("datasets-autoshow")),this.autoshowCheckbox=document.createElement("input"),this.autoshowCheckbox.type="checkbox";const x=localStorage.getItem("phpdebugbar-ajaxhandler-autoshow");this.autoshowCheckbox.checked=x!==null?x==="1":A.ajaxHandler?A.ajaxHandler.autoShow:!0,this.autoshowCheckbox.addEventListener("change",function(){A.ajaxHandler&&A.ajaxHandler.setAutoShow(this.checked),A.controls.__settings&&A.controls.__settings.get("widget").set("autoshow",this.checked),A.controls.__datasets&&A.controls.__datasets.get("widget").set("autoshow",this.checked)}),_.append(this.autoshowCheckbox),_.append(document.createTextNode(" Autoshow")),d.append(_),this.refreshBtn=document.createElement("a"),this.refreshBtn.classList.add(n("datasets-refresh-btn")),this.refreshBtn.innerHTML='<i class="phpdebugbar-icon phpdebugbar-icon-refresh"></i>',this.refreshBtn.title="Auto-scan for new datasets",this.isScanning=!1,this.refreshBtn.addEventListener("click",p=>{p.stopPropagation(),this.isScanning?(this.isScanning=!1,this.refreshBtn.classList.remove(n("active")),this.refreshBtn.title="Auto-scan for new datasets"):(this.isScanning=!0,this.refreshBtn.classList.add(n("active")),this.refreshBtn.title="Stop auto-scanning",this.scanForNewDatasets())}),d.append(this.refreshBtn);const N=document.createElement("a");N.classList.add(n("datasets-clear-btn")),N.textContent="Clear",N.addEventListener("click",()=>{const p=A.activeDatasetId,E=A.datasets[p];A.datasets={},E&&A.addDataSet(E,p,E.__meta.suffix,!0),this.panel.hidden=!0}),d.append(N),this.searchInput=document.createElement("input"),this.searchInput.type="search",this.searchInput.placeholder="Search",this.searchInput.classList.add(n("datasets-search")),this.searchInput.addEventListener("input",()=>{b.applySearchFilter()}),d.append(this.searchInput),this.panel.append(d),this.list=document.createElement("div"),this.list.classList.add(n("datasets-list")),this.panel.append(this.list),this.el.append(this.badge),document.body.append(this.panel);const r=()=>{const p=this.badge.getBoundingClientRect(),E=p.top,k=window.innerHeight-p.bottom,M=k>E;this.panel.style.position="fixed",this.panel.style.right=`${window.innerWidth-p.right}px`,this.panel.style.left="auto",M?(this.panel.style.top=`${p.bottom}px`,this.panel.style.bottom="auto",this.panel.style.maxHeight=`${k}px`):(this.panel.style.bottom=`${window.innerHeight-p.top}px`,this.panel.style.top="auto",this.panel.style.maxHeight=`${E}px`),this.refreshBtn.hidden=!A.openHandler};this.badge.addEventListener("click",p=>{p.target!==this.panel&&!this.panel.contains(p.target)&&(this.panel.hidden&&r(),this.panel.hidden=!this.panel.hidden)}),document.addEventListener("click",p=>{!this.badge.contains(p.target)&&!this.panel.contains(p.target)&&(this.panel.hidden=!0)})}render(){this.bindAttr("data",function(){this.updateBadge()}),this.bindAttr("activeId",function(){this.updateBadge()}),this.bindAttr("autoshow",function(){this.autoshowCheckbox&&(this.autoshowCheckbox.checked=this.get("autoshow"))})}updateBadge(){const h=this.get("debugbar"),b=this.get("data")||h.datasets,A=this.get("activeId")||h.activeDatasetId;if(!b){this.badge.hidden=!0;return}const d=Object.keys(b).length;if(d>=1){this.badge.hidden=!1;const _=b[A];if(_&&_.__meta){const N=_.__meta.uri||"",r=_.__meta.method||"GET";this.badgeUrl.textContent=`${r} ${N}`}d>1?(this.badgeCount.textContent=d,this.badgeCount.hidden=!1):this.badgeCount.hidden=!0,this.list.innerHTML="";const x=Object.keys(b).sort((N,r)=>{var k,M;const p=((k=b[N].__meta)==null?void 0:k.utime)||0;return(((M=b[r].__meta)==null?void 0:M.utime)||0)-p});for(const N of x){const r=b[N],p=document.createElement("div");p.classList.add(n("datasets-list-item"));const E=r.__meta.uri||"",k=r.__meta.method||"GET";p.setAttribute("data-url",E),p.setAttribute("data-method",k),N===A&&p.classList.add(n("active"));const M=document.createElement("span");M.classList.add(n("datasets-item-nb")),M.textContent=`#${r.__meta.nb}`,p.append(M);const R=document.createElement("span");R.classList.add(n("datasets-item-time")),R.textContent=r.__meta.datetime?r.__meta.datetime.split(" ")[1]:"",p.append(R);const i=document.createElement("div");i.classList.add(n("datasets-item-request"));const D=document.createElement("span");D.classList.add(n("datasets-item-method")),D.textContent=k,i.append(D);const P=document.createElement("span");if(P.classList.add(n("datasets-item-url")),P.textContent=E,i.append(P),r.__meta.suffix){const o=document.createElement("span");o.classList.add(n("datasets-item-suffix")),o.textContent=` ${r.__meta.suffix}`,i.append(o)}p.append(i);const g=document.createElement("div");g.classList.add(n("datasets-item-badges"));for(const[o,u]of Object.entries(h.dataMap)){const O=I(r,u[0],u[1]);if(o.includes(":")){const q=o.split(":"),f=q[0];if(q[1]==="badge"&&O>0){const Q=h.getControl(f);if(Q){const Z=document.createElement("span");if(Z.classList.add(n("datasets-item-badge")),Z.setAttribute("title",Q.get("title")),Z.dataset.tab=f,Q.icon){const se=Q.icon.cloneNode(!0);se.style.width="12px",se.style.height="12px",Z.append(se)}const ne=document.createElement("span");ne.textContent=O,Z.append(ne),g.append(Z),Z.addEventListener("click",se=>{se.stopPropagation(),h.showDataSet(N),h.showTab(f),this.panel.hidden=!0})}}}}p.append(g),p.addEventListener("click",()=>{h.showDataSet(N),this.panel.hidden=!0}),this.list.append(p)}this.applySearchFilter()}else this.badge.hidden=!0}applySearchFilter(){const h=this.searchInput.value.toLowerCase().trim(),b=this.list.querySelectorAll(`.${n("datasets-list-item")}`);for(const A of b)if(h==="")A.hidden=!1;else{const d=A.getAttribute("data-url").toLowerCase(),x=`${A.getAttribute("data-method").toLowerCase()} ${d}`,r=h.split(/\s+/).filter(p=>p.length>0).every(p=>x.includes(p));A.hidden=!r}}scanForNewDatasets(){const h=this.get("debugbar");if(!this.isScanning||!h.openHandler)return;const b=h.datasets,A=Object.values(b).reduce((_,x)=>{var N;return Math.max(_,((N=x.__meta)==null?void 0:N.utime)||0)},0),d=()=>{this.isScanning&&setTimeout(()=>this.scanForNewDatasets(),1e3)};h.openHandler.find({},0,(_,x)=>{if(x){console.error("scanForNewDatasets: find() failed",x),this.isScanning=!1,this.refreshBtn.classList.remove(n("active")),this.refreshBtn.title="Error scanning";return}try{const N=_.filter(p=>p.utime>A&&!b[p.id]),r=(p=0)=>{if(p>=N.length){d();return}const{id:E}=N[p];h.loadDataSet(E,"(scan)",()=>r(p+1),this.autoshowCheckbox.checked)};N.length?r():d()}catch(N){console.error("scanForNewDatasets: unexpected error",N),this.refreshBtn.classList.remove(n("active")),this.refreshBtn.title="Error scanning",this.isScanning=!1}})}}PhpDebugBar.Widgets.DatasetWidget=H})();(function(){const n=function(W){return PhpDebugBar.utils.csscls(W,"phpdebugbar-openhandler-")};PhpDebugBar.OpenHandler=PhpDebugBar.Widget.extend({className:"phpdebugbar-openhandler",defaults:{items_per_page:20},render(){const W=this;document.body.append(this.el),this.el.style.display="none",this.closebtn=document.createElement("a"),this.closebtn.classList.add(n("closebtn")),this.closebtn.innerHTML='<i class="phpdebugbar-icon phpdebugbar-icon-x"></i>',this.brand=document.createElement("span"),this.brand.classList.add(n("brand")),this.brand.innerHTML='<i class="phpdebugbar-icon phpdebugbar-icon-brand"></i>',this.table=document.createElement("tbody");const T=document.createElement("div");T.classList.add(n("header")),T.textContent="PHP DebugBar | Open",T.prepend(this.brand),T.append(this.closebtn),this.el.append(T);const m=document.createElement("table");m.innerHTML='<thead><tr><th width="155">Date</th><th width="75">Method</th><th>URL</th><th width="125">IP</th><th width="100">Filter data</th></tr></thead>',m.append(this.table),this.el.append(m),this.actions=document.createElement("div"),this.actions.classList.add(n("actions")),this.el.append(this.actions),this.closebtn.addEventListener("click",()=>{W.hide()}),this.loadmorebtn=document.createElement("a"),this.loadmorebtn.textContent="Load more",this.actions.append(this.loadmorebtn),this.loadmorebtn.addEventListener("click",()=>{W.find(W.last_find_request,W.last_find_request.offset+W.get("items_per_page"),W.handleFind.bind(W))}),this.showonlycurrentbtn=document.createElement("a"),this.showonlycurrentbtn.textContent="Show only current URL",this.actions.append(this.showonlycurrentbtn),this.showonlycurrentbtn.addEventListener("click",()=>{W.table.innerHTML="",W.find({uri:window.location.pathname},0,W.handleFind.bind(W))}),this.refreshbtn=document.createElement("a"),this.refreshbtn.textContent="Refresh",this.actions.append(this.refreshbtn),this.refreshbtn.addEventListener("click",()=>{W.refresh()}),this.clearbtn=document.createElement("a"),this.clearbtn.textContent="Clear storage",this.actions.append(this.clearbtn),this.clearbtn.addEventListener("click",()=>{W.clear(()=>{W.hide()})}),this.addSearch(),this.overlay=document.createElement("div"),this.overlay.classList.add(n("overlay")),this.overlay.style.display="none",document.body.append(this.overlay),this.overlay.addEventListener("click",()=>{W.hide()})},refresh(){this.table.innerHTML="",this.loadmorebtn.style.display="",this.find({},0,this.handleFind.bind(this))},addSearch(){const W=this,T=document.createElement("button");T.textContent="Search",T.type="submit",T.addEventListener("click",function(a){W.table.innerHTML="";const S={},j=new FormData(this.parentElement);for(const[Y,v]of j.entries())v&&(S[Y]=v);W.find(S,0,W.handleFind.bind(W)),a.preventDefault()});const m=document.createElement("form");m.innerHTML='<br/><b>Filter results</b><br/><select name="method"><option selected>(Method)</option><option>GET</option><option>POST</option><option>PUT</option><option>DELETE</option></select>';const l=document.createElement("input");l.type="text",l.name="uri",l.placeholder="URI",m.append(l);const I=document.createElement("input");I.type="text",I.name="ip",I.placeholder="IP",m.append(I),m.append(T),this.actions.append(m)},handleFind(W){const T=this;for(const m of W){const l=document.createElement("a");l.textContent="Load dataset",l.addEventListener("click",H=>{T.hide(),T.load(m.id,w=>{T.callback(m.id,w)}),H.preventDefault()});const I=document.createElement("a");I.textContent=m.method,I.addEventListener("click",H=>{T.table.innerHTML="",T.find({method:m.method},0,T.handleFind.bind(T)),H.preventDefault()});const a=document.createElement("a");a.textContent=m.uri,a.addEventListener("click",H=>{T.hide(),T.load(m.id,w=>{T.callback(m.id,w)}),H.preventDefault()});const S=document.createElement("a");S.textContent=m.ip,S.addEventListener("click",H=>{T.table.innerHTML="",T.find({ip:m.ip},0,T.handleFind.bind(T)),H.preventDefault()});const j=document.createElement("a");j.textContent="Show URL",j.addEventListener("click",H=>{T.table.innerHTML="",T.find({uri:m.uri},0,T.handleFind.bind(T)),H.preventDefault()});const Y=document.createElement("tr"),v=document.createElement("td");v.textContent=m.datetime,Y.append(v);const e=document.createElement("td");e.textContent=m.method,Y.append(e);const s=document.createElement("td");s.append(a),Y.append(s);const c=document.createElement("td");c.append(S),Y.append(c);const C=document.createElement("td");C.append(j),Y.append(C),T.table.append(Y)}W.length<this.get("items_per_page")&&(this.loadmorebtn.style.display="none")},show(W){this.callback=W,this.el.style.display="block",this.overlay.style.display="block",this.refresh()},hide(){this.el.style.display="none",this.overlay.style.display="none"},find(W,T,m){const l=Object.assign({op:"find"},W,{max:this.get("items_per_page"),offset:T||0});this.last_find_request=l,this.ajax(l,m)},load(W,T){this.ajax({op:"get",id:W},T)},clear(W){this.ajax({op:"clear"},W)},ajax(W,T){let m=this.get("url");W&&(m=m+(m.includes("?")?"&":"?")+new URLSearchParams(W)),fetch(m,{method:"GET",headers:{Accept:"application/json"}}).then(l=>l.json()).then(T).catch(l=>{T(null,l)})}})})();(function(){const n=PhpDebugBar.utils.makecsscls("phpdebugbar-widgets-");class W extends PhpDebugBar.Widget{get className(){return n("mails")}render(){this.list=new PhpDebugBar.Widgets.ListWidget({itemRenderer(m,l){const I=document.createElement("span");I.classList.add(n("subject")),I.textContent=l.subject,m.append(I);const a=document.createElement("span");if(a.classList.add(n("to")),a.textContent=l.to,m.append(a),l.body||l.html){const S=document.createElement("span");S.classList.add(n("filename")),S.textContent="";const j=document.createElement("a");j.setAttribute("title","Mail Preview"),j.textContent="View Mail",j.classList.add(n("editor-link")),j.addEventListener("click",()=>{const v=window.open("about:blank","Mail Preview","width=650,height=440,scrollbars=yes").document;let e="";if(l.headers){const H=document.createElement("pre");H.style.border="1px solid #ddd",H.style.padding="5px";const w=document.createElement("code");w.textContent=l.headers,H.append(w),e=H.outerHTML}const s=document.createElement("pre");s.style.border="1px solid #ddd",s.style.padding="5px",s.textContent=l.body;let c=s.outerHTML,C="";if(l.html){const H=document.createElement("details"),w=document.createElement("summary");w.textContent="Text version",H.append(w),H.append(s),c=H.outerHTML;const h=document.createElement("iframe");h.setAttribute("width","100%"),h.setAttribute("height","400px"),h.setAttribute("sandbox",""),h.setAttribute("referrerpolicy","no-referrer"),h.setAttribute("srcdoc",l.html),C=h.outerHTML}v.open(),v.write(e+c+C),v.close()}),S.append(j),m.append(S)}if(l.headers){const S=document.createElement("pre");S.classList.add(n("headers"));const j=document.createElement("code");j.textContent=l.headers,S.append(j),S.hidden=!0,m.append(S),m.addEventListener("click",()=>{S.hidden=!S.hidden})}}}),this.el.append(this.list.el),this.bindAttr("data",function(m){this.list.set("data",m)})}}PhpDebugBar.Widgets.MailsWidget=W})();(function(){const n=PhpDebugBar.utils.makecsscls("phpdebugbar-widgets-");class W extends PhpDebugBar.Widget{get className(){return n("sqlqueries")}onFilterClick(m){m.classList.toggle(n("excluded"));const l=m.getAttribute("rel"),I=this.list.el.querySelectorAll(`li[connection="${l}"]`);for(const a of I)a.hidden=!a.hidden}onCopyToClipboard(m){const l=m.parentElement.querySelector("code"),I=function(){try{document.execCommand("copy")&&(m.classList.add(n("copy-clipboard-check")),setTimeout(()=>{m.classList.remove(n("copy-clipboard-check"))},2e3))}catch(S){console.log("Oops, unable to copy")}};(function(S){if(document.selection){const j=document.body.createTextRange();j.moveToElementText(S),j.select()}else if(window.getSelection){const j=document.createRange();j.selectNodeContents(S),window.getSelection().removeAllRanges(),window.getSelection().addRange(j)}I(),window.getSelection().removeAllRanges()})(l)}renderList(m,l,I){const a=document.createElement("thead"),S=document.createElement("tr"),j=document.createElement("th");j.colSpan=2,j.classList.add(n("name")),j.innerHTML=l,S.append(j),a.append(S),m.append(a);const Y=document.createElement("tbody");for(const v in I){const e=typeof I[v]=="function"?`${I[v].name} {}`:I[v],s=document.createElement("tr");if(typeof e=="object"&&e!==null){const c=document.createElement("td");c.classList.add("phpdebugbar-text-muted"),c.textContent=e.index||v,s.append(c);const C=document.createElement("td");if(e.namespace&&C.append(`${e.namespace}::`),C.append(e.name||e.file),e.line){const H=document.createElement("span");H.classList.add("phpdebugbar-text-muted"),H.textContent=`:${e.line}`,C.append(H)}}else{const c=document.createElement("td");c.classList.add("phpdebugbar-text-muted"),c.textContent=v,s.append(c);const C=document.createElement("td");C.classList.add("phpdebugbar-text-muted"),C.textContent=e,s.append(C)}Y.append(s)}m.append(Y)}itemRenderer(m,l){if(l.slow&&m.classList.add(n("sql-slow")),l.width_percent){const a=document.createElement("div");a.classList.add(n("bg-measure"));const S=document.createElement("div");S.classList.add(n("value")),S.style.left=`${l.start_percent}%`,S.style.width=`${Math.max(l.width_percent,.01)}%`,a.append(S),m.append(a)}if(l.duration_str){const a=document.createElement("span");a.setAttribute("title","Duration"),a.classList.add(n("duration")),a.textContent=l.duration_str,m.append(a)}if(l.memory_str){const a=document.createElement("span");a.setAttribute("title","Memory usage"),a.classList.add(n("memory")),a.textContent=l.memory_str,m.append(a)}if(typeof l.row_count!="undefined"){const a=document.createElement("span");a.setAttribute("title","Row count"),a.classList.add(n("row-count")),a.textContent=l.row_count,m.append(a)}if(typeof l.stmt_id!="undefined"&&l.stmt_id){const a=document.createElement("span");a.setAttribute("title","Prepared statement ID"),a.classList.add(n("stmt-id")),a.textContent=l.stmt_id,m.append(a)}if(l.connection){const a=document.createElement("span");if(a.setAttribute("title","Connection"),a.classList.add(n("database")),a.textContent=l.connection,m.append(a),m.setAttribute("connection",l.connection),!this.filters.includes(l.connection)){this.filters.push(l.connection);const S=document.createElement("a");S.classList.add(n("filter")),S.textContent=l.connection,S.setAttribute("rel",l.connection),S.addEventListener("click",()=>{this.onFilterClick(S)}),this.toolbar.append(S),this.filters.length>1&&(this.toolbar.hidden=!1)}}if(!l.type||l.type==="query"){const a=document.createElement("span");a.setAttribute("title","Copy to clipboard"),a.classList.add(n("copy-clipboard")),a.style.cursor="pointer",a.innerHTML="&#8203;",a.addEventListener("click",S=>{this.onCopyToClipboard(a),S.stopPropagation()}),m.append(a)}if(typeof l.xdebug_link!="undefined"&&l.xdebug_link){const a=document.createElement("span");a.setAttribute("title","Filename"),a.classList.add(n("filename")),a.textContent=l.xdebug_link.filename+(l.xdebug_link.line?`#${l.xdebug_link.line}`:"");const S=document.createElement("a");S.setAttribute("href",l.xdebug_link.url),S.classList.add(n("editor-link")),S.addEventListener("click",j=>{j.stopPropagation(),l.xdebug_link.ajax&&(fetch(l.xdebug_link.url),j.preventDefault())}),a.append(S),m.prepend(a)}else if(typeof l.filename!="undefined"&&l.filename){const a=document.createElement("span");a.setAttribute("title","Filename"),a.classList.add(n("filename")),a.textContent=l.filename,m.prepend(a)}if(l.type==="transaction"){const a=document.createElement("strong");a.classList.add(n("sql"),n("name")),a.textContent=l.sql,m.append(a)}else{const a=document.createElement("code");a.classList.add(n("sql")),a.innerHTML=PhpDebugBar.Widgets.highlight(l.sql,"sql"),m.append(a)}if(typeof l.is_success!="undefined"&&!l.is_success){m.classList.add(n("error"));const a=document.createElement("span");a.classList.add(n("error")),a.textContent=`[${l.error_code}] ${l.error_message}`,m.append(a)}const I=document.createElement("table");if(I.classList.add(n("params")),I.hidden=!0,l.params&&Object.keys(l.params).length>0&&this.renderList(I,"Params",l.params),l.backtrace&&Object.keys(l.backtrace).length>0){const a=[];for(const S of l.backtrace.values()){let j=S.name||S.file;S.line&&(j=`${j}:${S.line}`),a.push(j)}this.renderList(I,"Backtrace",a)}I.querySelectorAll("tr").length&&(m.append(I),m.style.cursor="pointer",m.addEventListener("click",()=>{if(window.getSelection().type==="Range")return"";I.hidden=!I.hidden;const a=m.querySelector("code");if(a&&typeof phpdebugbar_sqlformatter!="undefined"){let S=l.sql;I.hidden||(S=phpdebugbar_sqlformatter.format(l.sql)),a.innerHTML=PhpDebugBar.Widgets.highlight(S,"sql")}}))}render(){this.status=document.createElement("div"),this.status.classList.add(n("status")),this.el.append(this.status),this.toolbar=document.createElement("div"),this.toolbar.classList.add(n("toolbar")),this.el.append(this.toolbar),this.filters=[];let m="none",l=null;this.list=new PhpDebugBar.Widgets.ListWidget({itemRenderer:(I,a)=>this.itemRenderer(I,a)}),this.el.append(this.list.el),this.bindAttr("data",function(I){if(I.length<=0||!I.statements)return!1;this.filters=[],this.toolbar.hidden=!0;const a=this.toolbar.querySelectorAll(`.${n("filter")}`);for(const v of a)v.remove();this.list.set("data",I.statements),this.status.innerHTML="";const S={};let j=0;for(let v=0;v<I.statements.length;v++){if(I.statements[v].type&&I.statements[v].type!=="query")continue;let e=I.statements[v].sql;I.statements[v].params&&Object.keys(I.statements[v].params).length>0&&(e+=JSON.stringify(I.statements[v].params)),I.statements[v].connection&&(e+=`@${I.statements[v].connection}`),S[e]=S[e]||{keys:[]},S[e].keys.push(v)}for(const v in S)if(S[v].keys.length>1){j+=S[v].keys.length;for(let e=0;e<S[v].keys.length;e++){const s=this.list.el.querySelectorAll(`.${n("list-item")}`);s[S[v].keys[e]]&&s[S[v].keys[e]].classList.add(n("sql-duplicate"))}}const Y=document.createElement("span");if(Y.textContent=`${I.nb_statements} statements were executed`,this.status.append(Y),I.nb_failed_statements&&Y.append(`, ${I.nb_failed_statements} of which failed`),j){Y.append(`, ${j} of which were duplicates`),Y.append(`, ${I.nb_statements-j} unique. `);const v="Show only duplicated",e=document.createElement("a");e.classList.add(n("duplicates")),e.textContent=v,e.addEventListener("click",()=>{e.classList.toggle("shown-duplicated"),e.textContent=e.classList.contains("shown-duplicated")?"Show All":v;const s=`.${this.className} .${n("list-item")}:not(.${n("sql-duplicate")})`,c=document.querySelectorAll(s);for(const C of c)C.hidden=!C.hidden}),Y.append(e)}if(I.accumulated_duration_str){const v=document.createElement("span");v.setAttribute("title","Accumulated duration"),v.classList.add(n("duration")),v.textContent=I.accumulated_duration_str;const e=document.createElement("span");e.classList.add(n("sort-icon")),e.style.cursor="pointer",e.style.marginLeft="5px",e.textContent="Sort \u21C5",e.setAttribute("title","Sort by duration"),e.addEventListener("click",()=>{m==="none"?(m="desc",e.textContent="\u2193",l=[...I.statements],I.statements.sort((s,c)=>(c.duration||0)-(s.duration||0))):m==="desc"?(m="asc",e.textContent="\u2191",I.statements.sort((s,c)=>(s.duration||0)-(c.duration||0))):(m="none",e.textContent="\u21C5",l&&(I.statements=l,l=null)),this.list.set("data",I.statements)}),v.append(e),this.status.append(v)}if(I.memory_usage_str){const v=document.createElement("span");v.setAttribute("title","Memory usage"),v.classList.add(n("memory")),v.textContent=I.memory_usage_str,this.status.append(v)}})}}PhpDebugBar.Widgets.SQLQueriesWidget=W})();(function(){const n=PhpDebugBar.utils.makecsscls("phpdebugbar-widgets-");class W extends PhpDebugBar.Widget{get className(){return n("templates")}render(){this.status=document.createElement("div"),this.status.classList.add(n("status")),this.el.append(this.status),this.list=new PhpDebugBar.Widgets.ListWidget({itemRenderer(m,l){const I=document.createElement("span");if(I.classList.add(n("name")),l.html?I.innerHTML=l.html:I.textContent=l.name,m.append(I),typeof l.xdebug_link!="undefined"&&l.xdebug_link!==null){const a=document.createElement("span");if(a.classList.add(n("filename")),a.textContent=l.xdebug_link.filename+(l.xdebug_link.line?`#${l.xdebug_link.line}`:""),l.xdebug_link){const S=document.createElement("a");S.setAttribute("href",l.xdebug_link.url),S.classList.add(n("editor-link")),S.addEventListener("click",j=>{j.stopPropagation(),l.xdebug_link.ajax&&(fetch(l.xdebug_link.url),j.preventDefault())}),a.append(S)}m.append(a)}if(l.render_time_str){const a=document.createElement("span");a.setAttribute("title","Render time"),a.classList.add(n("render-time")),a.textContent=l.render_time_str,m.append(a)}if(l.memory_str){const a=document.createElement("span");a.setAttribute("title","Memory usage"),a.classList.add(n("memory")),a.textContent=l.memory_str,m.append(a)}if(typeof l.param_count!="undefined"){const a=document.createElement("span");a.setAttribute("title","Parameter count"),a.classList.add(n("param-count")),a.textContent=l.param_count,m.append(a)}if(typeof l.type!="undefined"&&l.type){const a=document.createElement("span");a.setAttribute("title","Type"),a.classList.add(n("type")),a.textContent=l.type,m.append(a)}if(typeof l.editorLink!="undefined"&&l.editorLink){const a=document.createElement("a");a.setAttribute("href",l.editorLink),a.classList.add(n("editor-link")),a.textContent="file",a.addEventListener("click",S=>{S.stopPropagation()}),m.append(a)}if(l.params&&Object.keys(l.params).length>0){const a=document.createElement("table");a.classList.add(n("params"));const S=document.createElement("thead");S.innerHTML='<tr><th colspan="2">Params</th></tr>';const j=document.createElement("tbody");a.append(S,j);for(const Y in l.params)if(typeof l.params[Y]!="function"){const v=document.createElement("tr");v.innerHTML=`<td class="${n("name")}">${Y}</td><td class="${n("value")}"><pre><code>${l.params[Y]}</code></pre></td>`,j.append(v)}a.hidden=!0,m.append(a),m.style.cursor="pointer",m.addEventListener("click",Y=>{window.getSelection().type==="Range"||Y.target.closest(".sf-dump")||(a.hidden=!a.hidden)})}}}),this.el.append(this.list.el),this.callgraph=document.createElement("div"),this.callgraph.classList.add(n("callgraph")),this.el.append(this.callgraph),this.bindAttr("data",function(m){this.list.set("data",m.templates),this.status.innerHTML="",this.callgraph.innerHTML="";const l=m.sentence||"templates were rendered",I=document.createElement("span");if(I.textContent=`${m.nb_templates} ${l}`,this.status.append(I),m.accumulated_render_time_str){const a=document.createElement("span");a.setAttribute("title","Accumulated render time"),a.classList.add(n("render-time")),a.textContent=m.accumulated_render_time_str,this.status.append(a)}if(m.memory_usage_str){const a=document.createElement("span");a.setAttribute("title","Memory usage"),a.classList.add(n("memory")),a.textContent=m.memory_usage_str,this.status.append(a)}if(m.nb_blocks>0){const a=document.createElement("div");a.textContent=`${m.nb_blocks} blocks were rendered`,this.status.append(a)}if(m.nb_macros>0){const a=document.createElement("div");a.textContent=`${m.nb_macros} macros were rendered`,this.status.append(a)}typeof m.callgraph!="undefined"&&(this.callgraph.innerHTML=m.callgraph)})}}PhpDebugBar.Widgets.TemplatesWidget=W})();(function(){const n=PhpDebugBar.utils.makecsscls("phpdebugbar-widgets-");class W extends PhpDebugBar.Widget{get className(){return n("httpclient")}render(){this.list=new PhpDebugBar.Widgets.ListWidget({itemRenderer(m,l){const I=document.createElement("div");I.classList.add(n("request-summary")),I.style.display="flex",I.style.gap="10px",I.style.alignItems="center";const a=document.createElement("span");a.classList.add(n("method")),a.textContent=l.method,a.style.fontWeight="bold",a.style.minWidth="60px",I.append(a);const S=document.createElement("span");S.classList.add(n("url")),S.textContent=l.url,S.style.flex="1",S.style.overflow="hidden",S.style.textOverflow="ellipsis",S.style.whiteSpace="nowrap",I.append(S);const j=document.createElement("span");if(j.classList.add(n("status")),j.textContent=l.status,j.style.minWidth="40px",j.style.textAlign="center",typeof l.status=="number"&&(l.status>=200&&l.status<300?j.style.color="#4caf50":l.status>=300&&l.status<400?j.style.color="#ff9800":l.status>=400&&(j.style.color="#f44336")),I.append(j),l.duration!==null&&typeof l.duration!="undefined"){const Y=document.createElement("span");Y.classList.add(n("duration")),Y.textContent=l.duration,Y.style.minWidth="60px",Y.style.textAlign="right",I.append(Y)}if(m.append(I),l.details&&Object.keys(l.details).length>0){const Y=document.createElement("table");Y.classList.add(n("params"));const v=document.createElement("thead");v.innerHTML='<tr><th colspan="2">Details</th></tr>';const e=document.createElement("tbody");Y.append(v,e);for(const s in l.details)if(typeof l.details[s]!="function"){const c=document.createElement("tr");c.innerHTML=`<td class="${n("name")}">${s}</td><td class="${n("value")}"><pre><code>${l.details[s]}</code></pre></td>`,e.append(c)}Y.hidden=!0,m.append(Y),m.style.cursor="pointer",m.addEventListener("click",s=>{window.getSelection().type==="Range"||s.target.closest(".sf-dump")||(Y.hidden=!Y.hidden)})}}}),this.el.append(this.list.el),this.bindAttr("data",function(m){this.list.set("data",m)})}}PhpDebugBar.Widgets.HttpWidget=W})();})();

/* global phpdebugbar_sqlformatter */
(function () {
    const csscls = PhpDebugBar.utils.makecsscls('phpdebugbar-widgets-');

    /**
     * Widget for the displaying sql queries
     *
     * Options:
     *  - data
     */
    class SQLQueriesWidget extends PhpDebugBar.Widget {
        get className() {
            return csscls('sqlqueries');
        }

        onFilterClick(el) {
            el.classList.toggle(csscls('excluded'));
            const connection = el.getAttribute('rel');
            const items = this.list.el.querySelectorAll(`li[connection="${connection}"]`);
            for (const item of items) {
                item.hidden = !item.hidden;
            }
        }

        onCopyToClipboard(el) {
            const code = el.parentElement.querySelector('code');
            const copy = function () {
                try {
                    if (document.execCommand('copy')) {
                        el.classList.add(csscls('copy-clipboard-check'));
                        setTimeout(() => {
                            el.classList.remove(csscls('copy-clipboard-check'));
                        }, 2000);
                    }
                } catch (err) {
                    console.log('Oops, unable to copy');
                }
            };
            const select = function (node) {
                if (document.selection) {
                    const range = document.body.createTextRange();
                    range.moveToElementText(node);
                    range.select();
                } else if (window.getSelection) {
                    const range = document.createRange();
                    range.selectNodeContents(node);
                    window.getSelection().removeAllRanges();
                    window.getSelection().addRange(range);
                }
                copy();
                window.getSelection().removeAllRanges();
            };
            select(code);
        }

        renderList(table, caption, data) {
            const thead = document.createElement('thead');

            const tr = document.createElement('tr');
            const nameTh = document.createElement('th');
            nameTh.colSpan = 2;
            nameTh.classList.add(csscls('name'));
            nameTh.innerHTML = caption;
            tr.append(nameTh);
            thead.append(tr);

            table.append(thead);

            const tbody = document.createElement('tbody');

            for (const key in data) {
                const value = typeof data[key] === 'function' ? `${data[key].name} {}` : data[key];
                const tr = document.createElement('tr');

                if (typeof value === 'object' && value !== null) {
                    const keyTd = document.createElement('td');
                    keyTd.classList.add('phpdebugbar-text-muted');
                    keyTd.textContent = value.index || key;
                    tr.append(keyTd);

                    const valueTd = document.createElement('td');
                    if (value.namespace) {
                        valueTd.append(`${value.namespace}::`);
                    }

                    valueTd.append(value.name || value.file);

                    if (value.line) {
                        const lineSpan = document.createElement('span');
                        lineSpan.classList.add('phpdebugbar-text-muted');
                        lineSpan.textContent = `:${value.line}`;
                        valueTd.append(lineSpan);
                    }
                } else {
                    const keyTd = document.createElement('td');
                    keyTd.classList.add('phpdebugbar-text-muted');
                    keyTd.textContent = key;
                    tr.append(keyTd);

                    const valueTd = document.createElement('td');
                    valueTd.classList.add('phpdebugbar-text-muted');
                    valueTd.textContent = value;
                    tr.append(valueTd);
                }

                tbody.append(tr);
            }

            table.append(tbody);
        }

        itemRenderer(li, stmt) {
            if (stmt.slow) {
                li.classList.add(csscls('sql-slow'));
            }
            if (stmt.width_percent) {
                const bgMeasure = document.createElement('div');
                bgMeasure.classList.add(csscls('bg-measure'));

                const valueDiv = document.createElement('div');
                valueDiv.classList.add(csscls('value'));
                valueDiv.style.left = `${stmt.start_percent}%`;
                valueDiv.style.width = `${Math.max(stmt.width_percent, 0.01)}%`;
                bgMeasure.append(valueDiv);
                li.append(bgMeasure);
            }
            if (stmt.duration_str) {
                const duration = document.createElement('span');
                duration.setAttribute('title', 'Duration');
                duration.classList.add(csscls('duration'));
                duration.textContent = stmt.duration_str;
                li.append(duration);
            }
            if (stmt.memory_str) {
                const memory = document.createElement('span');
                memory.setAttribute('title', 'Memory usage');
                memory.classList.add(csscls('memory'));
                memory.textContent = stmt.memory_str;
                li.append(memory);
            }
            if (typeof (stmt.row_count) !== 'undefined') {
                const rowCount = document.createElement('span');
                rowCount.setAttribute('title', 'Row count');
                rowCount.classList.add(csscls('row-count'));
                rowCount.textContent = stmt.row_count;
                li.append(rowCount);
            }
            if (typeof (stmt.stmt_id) !== 'undefined' && stmt.stmt_id) {
                const stmtId = document.createElement('span');
                stmtId.setAttribute('title', 'Prepared statement ID');
                stmtId.classList.add(csscls('stmt-id'));
                stmtId.textContent = stmt.stmt_id;
                li.append(stmtId);
            }
            if (stmt.connection) {
                const database = document.createElement('span');
                database.setAttribute('title', 'Connection');
                database.classList.add(csscls('database'));
                database.textContent = stmt.connection;
                li.append(database);
                li.setAttribute('connection', stmt.connection);

                if (!this.filters.includes(stmt.connection)) {
                    this.filters.push(stmt.connection);

                    const filterLink = document.createElement('a');
                    filterLink.classList.add(csscls('filter'));
                    filterLink.textContent = stmt.connection;
                    filterLink.setAttribute('rel', stmt.connection);
                    filterLink.addEventListener('click', () => {
                        this.onFilterClick(filterLink);
                    });
                    this.toolbar.append(filterLink);

                    if (this.filters.length > 1) {
                        this.toolbar.hidden = false;
                    }
                }
            }
            if ((!stmt.type || stmt.type === 'query')) {
                const copyBtn = document.createElement('span');
                copyBtn.setAttribute('title', 'Copy to clipboard');
                copyBtn.classList.add(csscls('copy-clipboard'));
                copyBtn.style.cursor = 'pointer';
                copyBtn.innerHTML = '&#8203;';
                copyBtn.addEventListener('click', (event) => {
                    this.onCopyToClipboard(copyBtn);
                    event.stopPropagation();
                });
                li.append(copyBtn);
            }
            if (typeof (stmt.xdebug_link) !== 'undefined' && stmt.xdebug_link) {
                const header = document.createElement('span');
                header.setAttribute('title', 'Filename');
                header.classList.add(csscls('filename'));
                header.textContent = stmt.xdebug_link.filename + (stmt.xdebug_link.line ? `#${stmt.xdebug_link.line}` : '');

                const link = document.createElement('a');
                link.setAttribute('href', stmt.xdebug_link.url);
                link.classList.add(csscls('editor-link'));
                link.addEventListener('click', (event) => {
                    event.stopPropagation();
                    if (stmt.xdebug_link.ajax) {
                        fetch(stmt.xdebug_link.url);
                        event.preventDefault();
                    }
                });
                header.append(link);
                li.prepend(header);
            } else if (typeof (stmt.filename) !== 'undefined' && stmt.filename) {
                const header = document.createElement('span');
                header.setAttribute('title', 'Filename');
                header.classList.add(csscls('filename'));
                header.textContent = stmt.filename;
                li.prepend(header);
            }
            if (stmt.type === 'transaction') {
                const strong = document.createElement('strong');
                strong.classList.add(csscls('sql'), csscls('name'));
                strong.textContent = stmt.sql;
                li.append(strong);
            } else {
                const code = document.createElement('code');
                code.classList.add(csscls('sql'));
                code.innerHTML = PhpDebugBar.Widgets.highlight(stmt.sql, 'sql');
                li.append(code);
            }
            if (typeof (stmt.is_success) !== 'undefined' && !stmt.is_success) {
                li.classList.add(csscls('error'));
                const errorSpan = document.createElement('span');
                errorSpan.classList.add(csscls('error'));
                errorSpan.textContent = `[${stmt.error_code}] ${stmt.error_message}`;
                li.append(errorSpan);
            }
            const table = document.createElement('table');
            table.classList.add(csscls('params'));
            table.hidden = true;

            if (stmt.params && Object.keys(stmt.params).length > 0) {
                this.renderList(table, 'Params', stmt.params);
            }
            if (stmt.backtrace && Object.keys(stmt.backtrace).length > 0) {
                const values = [];
                for (const trace of stmt.backtrace.values()) {
                    let text = trace.name || trace.file;
                    if (trace.line) {
                        text = `${text}:${trace.line}`;
                    }
                    values.push(text);
                }
                this.renderList(table, 'Backtrace', values);
            }
            if (table.querySelectorAll('tr').length) {
                li.append(table);
                li.style.cursor = 'pointer';
                li.addEventListener('click', () => {
                    if (window.getSelection().type === 'Range') {
                        return '';
                    }
                    table.hidden = !table.hidden;
                    const code = li.querySelector('code');
                    if (code && typeof phpdebugbar_sqlformatter !== 'undefined') {
                        let sql = stmt.sql;
                        if (!table.hidden) {
                            sql = phpdebugbar_sqlformatter.format(stmt.sql);
                        }
                        code.innerHTML = PhpDebugBar.Widgets.highlight(sql, 'sql');
                    }
                });
            }
        }

        render() {
            this.status = document.createElement('div');
            this.status.classList.add(csscls('status'));
            this.el.append(this.status);

            this.toolbar = document.createElement('div');
            this.toolbar.classList.add(csscls('toolbar'));
            this.el.append(this.toolbar);

            this.filters = [];
            let sortState = 'none'; // 'none', 'asc', 'desc'
            let originalData = null;

            this.list = new PhpDebugBar.Widgets.ListWidget({
                itemRenderer: (li, stmt) => this.itemRenderer(li, stmt)
            });
            this.el.append(this.list.el);

            this.bindAttr('data', function (data) {
                // the PDO collector maybe is empty
                if (data.length <= 0 || !data.statements) {
                    return false;
                }
                this.filters = [];
                this.toolbar.hidden = true;
                const toolbarFilters = this.toolbar.querySelectorAll(`.${csscls('filter')}`);
                for (const filter of toolbarFilters) {
                    filter.remove();
                }
                this.list.set('data', data.statements);
                this.status.innerHTML = '';

                // Search for duplicate statements.
                const sql = {};
                let duplicate = 0;
                for (let i = 0; i < data.statements.length; i++) {
                    if (data.statements[i].type && data.statements[i].type !== 'query') {
                        continue;
                    }
                    let stmt = data.statements[i].sql;
                    if (data.statements[i].params && Object.keys(data.statements[i].params).length > 0) {
                        stmt += JSON.stringify(data.statements[i].params);
                    }
                    if (data.statements[i].connection) {
                        stmt += `@${data.statements[i].connection}`;
                    }
                    sql[stmt] = sql[stmt] || { keys: [] };
                    sql[stmt].keys.push(i);
                }
                // Add classes to all duplicate SQL statements.
                for (const stmt in sql) {
                    if (sql[stmt].keys.length > 1) {
                        duplicate += sql[stmt].keys.length;
                        for (let i = 0; i < sql[stmt].keys.length; i++) {
                            const listItems = this.list.el.querySelectorAll(`.${csscls('list-item')}`);
                            if (listItems[sql[stmt].keys[i]]) {
                                listItems[sql[stmt].keys[i]].classList.add(csscls('sql-duplicate'));
                            }
                        }
                    }
                }

                const t = document.createElement('span');
                t.textContent = `${data.nb_statements} statements were executed`;
                this.status.append(t);

                if (data.nb_failed_statements) {
                    t.append(`, ${data.nb_failed_statements} of which failed`);
                }
                if (duplicate) {
                    t.append(`, ${duplicate} of which were duplicates`);
                    t.append(`, ${data.nb_statements - duplicate} unique. `);

                    // add toggler for displaying only duplicated queries
                    const duplicatedText = 'Show only duplicated';
                    const toggleLink = document.createElement('a');
                    toggleLink.classList.add(csscls('duplicates'));
                    toggleLink.textContent = duplicatedText;
                    toggleLink.addEventListener('click', () => {
                        toggleLink.classList.toggle('shown-duplicated');
                        toggleLink.textContent = toggleLink.classList.contains('shown-duplicated') ? 'Show All' : duplicatedText;

                        const selector = `.${this.className} .${csscls('list-item')}:not(.${csscls('sql-duplicate')})`;
                        const items = document.querySelectorAll(selector);
                        for (const item of items) {
                            item.hidden = !item.hidden;
                        }
                    });
                    t.append(toggleLink);
                }
                if (data.accumulated_duration_str) {
                    const duration = document.createElement('span');
                    duration.setAttribute('title', 'Accumulated duration');
                    duration.classList.add(csscls('duration'));
                    duration.textContent = data.accumulated_duration_str;

                    const sortIcon = document.createElement('span');
                    sortIcon.classList.add(csscls('sort-icon'));
                    sortIcon.style.cursor = 'pointer';
                    sortIcon.style.marginLeft = '5px';
                    sortIcon.textContent = 'Sort ';
                    sortIcon.setAttribute('title', 'Sort by duration');

                    sortIcon.addEventListener('click', () => {
                        if (sortState === 'none') {
                            sortState = 'desc';
                            sortIcon.textContent = '';
                            originalData = [...data.statements];
                            data.statements.sort((a, b) => (b.duration || 0) - (a.duration || 0));
                        } else if (sortState === 'desc') {
                            sortState = 'asc';
                            sortIcon.textContent = '';
                            data.statements.sort((a, b) => (a.duration || 0) - (b.duration || 0));
                        } else {
                            sortState = 'none';
                            sortIcon.textContent = '';
                            if (originalData) {
                                data.statements = originalData;
                                originalData = null;
                            }
                        }
                        this.list.set('data', data.statements);
                    });

                    duration.append(sortIcon);
                    this.status.append(duration);
                }
                if (data.memory_usage_str) {
                    const memory = document.createElement('span');
                    memory.setAttribute('title', 'Memory usage');
                    memory.classList.add(csscls('memory'));
                    memory.textContent = data.memory_usage_str;
                    this.status.append(memory);
                }
            });
        }
    }
    PhpDebugBar.Widgets.SQLQueriesWidget = SQLQueriesWidget;
})();

(function () {
    const csscls = PhpDebugBar.utils.makecsscls('phpdebugbar-widgets-');

    /**
     * Widget for displaying sql queries with Laravel-specific features.
     * Extends the base SQLQueriesWidget to add EXPLAIN functionality.
     *
     * Options:
     *  - data
     */
    class LaravelQueriesWidget extends PhpDebugBar.Widgets.SQLQueriesWidget {

        explainMysql(element, statement, rows, visual) {
            const headings = [];
            for (const key in rows[0]) {
                const th = document.createElement('th');
                th.textContent = key;
                headings.push(th);
            }

            const values = [];
            for (const row of rows) {
                const tr = document.createElement('tr');
                for (const key in row) {
                    const td = document.createElement('td');
                    td.textContent = row[key];
                    tr.append(td);
                }
                values.push(tr);
            }

            const table = document.createElement('table');
            table.classList.add(csscls('explain'));
            const thead = document.createElement('thead');
            const tbody = document.createElement('tbody');
            const headerRow = document.createElement('tr');
            headerRow.append(...headings);
            thead.append(headerRow);
            tbody.append(...values);
            table.append(thead, tbody);

            element.append(table);
            if (visual) {
                element.append(this.explainVisual(statement, visual.confirm));
            }
        }

        explainPgsql(element, statement, rows, visual) {
            const values = [];
            for (const row of rows) {
                const tr = document.createElement('tr');
                const td = document.createElement('td');
                td.textContent = row;
                tr.append(td);
                values.push(tr);
            }

            const table = document.createElement('table');
            table.classList.add(csscls('explain'));
            const tbody = document.createElement('tbody');
            tbody.append(...values);
            table.append(tbody);

            element.append(table);
            if (visual) {
                element.append(this.explainVisual(statement, visual.confirm));
            }
        }

        explainVisual(statement, confirmMessage) {
            const explainLink = document.createElement('a');
            explainLink.href = '#';
            explainLink.target = '_blank';
            explainLink.rel = 'noopener';
            explainLink.classList.add(csscls('visual-link'));

            const explainButton = document.createElement('a');
            explainButton.textContent = 'Visual Explain';
            explainButton.classList.add(csscls('visual-explain'));
            explainButton.addEventListener('click', () => {
                if (!confirm(confirmMessage)) // eslint-disable-line no-alert
                    return;
                fetch(statement.explain.url, {
                    method: 'POST',
                    body: JSON.stringify({
                        connection: statement.explain.connection,
                        query: statement.explain.query,
                        bindings: statement.params,
                        hash: statement.explain.hash,
                        mode: 'visual'
                    })
                }).then((response) => {
                    response.json()
                        .then((json) => {
                            if (!response.ok)
                                return alert(json.message); // eslint-disable-line no-alert
                            explainLink.href = json.data;
                            explainLink.textContent = json.data;
                            window.open(json.data, '_blank', 'noopener');
                        })
                        .catch(err => alert(`Response body could not be parsed. (${err})`)); // eslint-disable-line no-alert
                }).catch((e) => {
                    alert(e.message); // eslint-disable-line no-alert
                });
            });

            const div = document.createElement('div');
            div.append(explainButton, explainLink);
            return div;
        }

        itemRenderer(li, stmt, filters) {
            // Call parent's item renderer first
            super.itemRenderer(li, stmt, filters);

            // Add explain button if available
            if (stmt.explain) {
                let table = li.querySelector(`.${csscls('params')}`);

                if (table && ['mariadb', 'mysql'].includes(stmt.explain.driver)) {
                    this.renderDetailExplain(table, 'Performance', stmt, this.explainMysql.bind(this));
                } else if (table && stmt.explain.driver === 'pgsql') {
                    this.renderDetailExplain(table, 'Performance', stmt, this.explainPgsql.bind(this));
                }

            }
        }

        renderDetailExplain(table, caption, statement, explainFn) {
            const thead = document.createElement('thead');
            const tr = document.createElement('tr');
            const th = document.createElement('th');
            th.colSpan = 2;
            th.classList.add(csscls('name'));
            th.innerHTML = caption;
            tr.append(th);
            thead.append(tr);
            table.append(thead);

            const tbody = document.createElement('tbody');
            const bodyTr = document.createElement('tr');
            const td = document.createElement('td');
            td.colSpan = 2;

            const btn = document.createElement('button');
            btn.textContent = 'Run EXPLAIN';
            btn.classList.add(csscls('explain-btn'));
            td.append(btn);

            bodyTr.append(td);
            tbody.append(bodyTr);
            table.append(tbody);

            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fetch(statement.explain.url, {
                    method: 'POST',
                    body: JSON.stringify({
                        connection: statement.explain.connection,
                        query: statement.explain.query,
                        bindings: statement.params,
                        hash: statement.explain.hash
                    })
                }).then((response) => {
                    response.json()
                        .then((json) => {
                            if (!response.ok)
                                return alert(json.message); // eslint-disable-line no-alert
                            td.innerHTML = '';
                            explainFn(td, statement, json.data, json.visual);
                        })
                        .catch(err => alert(`Response body could not be parsed. (${err})`)); // eslint-disable-line no-alert
                }).catch((e) => {
                    alert(e.message); // eslint-disable-line no-alert
                });
            });
        }
    }

    PhpDebugBar.Widgets.LaravelQueriesWidget = LaravelQueriesWidget;
})();

(function () {
    const csscls = PhpDebugBar.utils.makecsscls('phpdebugbar-widgets-');

    /**
     * Widget for the displaying cache events
     *
     * Options:
     *  - data
     */
    class LaravelCacheWidget extends PhpDebugBar.Widgets.TimelineWidget {
        get tagName() {
            return 'ul';
        }

        get className() {
            return csscls('timeline cache');
        }

        onForgetClick(e, el) {
            e.stopPropagation();

            fetch(el.getAttribute('data-url'), {
                method: 'DELETE'
            }).then((response) => {
                if (response.ok) {
                    el.style.transition = 'opacity 200ms';
                    el.style.opacity = '0';
                    setTimeout(() => el.remove(), 200);
                }
            }).catch((err) => {
                console.error('Failed to forget cache key:', err);
            });
        }

        render() {
            super.render();

            this.bindAttr('data', function (data) {
                if (data.measures) {
                    const lines = this.el.querySelectorAll(`.${csscls('measure')}`);

                    for (let i = 0; i < data.measures.length; i++) {
                        const measure = data.measures[i];
                        const m = lines[i];

                        if (measure.params && Object.keys(measure.params).length > 0) {
                            if (measure.params.delete) {
                                const nextElement = m.nextElementSibling;
                                if (nextElement) {
                                    const deleteRow = Array.from(nextElement.querySelectorAll('td.phpdebugbar-widgets-name'))
                                        .find(td => td.textContent.includes('delete'));
                                    if (deleteRow) {
                                        deleteRow.closest('tr')?.remove();
                                    }
                                }
                            }
                            if (measure.delete_url && measure.params.key) {
                                const forgetLink = document.createElement('a');
                                forgetLink.className = csscls('forget');
                                forgetLink.textContent = 'forget';
                                forgetLink.setAttribute('data-url', measure.delete_url);
                                forgetLink.addEventListener('click', (e) => {
                                    this.onForgetClick(e, forgetLink);
                                }, { once: true });
                                m.appendChild(forgetLink);
                            }
                        }
                    }
                }
            });
        }
    }

    PhpDebugBar.Widgets.LaravelCacheWidget = LaravelCacheWidget;
})();

